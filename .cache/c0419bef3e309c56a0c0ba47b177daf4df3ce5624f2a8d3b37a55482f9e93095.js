{"source":"webpackJsonp([9],{\"1F7i\":function(t,e,a){\"use strict\";var s={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s(\"div\",{staticClass:\"container\"},[s(\"div\",{staticClass:\"wrap\"},[s(\"div\",{staticClass:\"text-box\"},[s(\"div\",{staticClass:\"title\"},[t._v(t._s(t.$t(\"bubble_ix_team\")))]),t._v(\" \"),s(\"div\",{staticClass:\"sub-text\"},[t._v(t._s(t.$t(\"bubble_site_tips\")))]),t._v(\" \"),t._m(0)])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s(\"div\",{staticClass:\"content\"},[s(\"a\",{staticClass:\"domain-text\",attrs:{href:\"https://ixx.com\"}},[s(\"img\",{staticClass:\"safe-icon\",attrs:{src:a(\"6ZN5\"),alt:\"\"}}),t._v(\"\\n            https://ixx.com\\n        \")])])}]};var i=a(\"VU/8\")({},s,!1,function(t){a(\"nl1x\")},\"data-v-77f9b39c\",null);e.a=i.exports},\"3IOu\":function(t,e){},\"6ZN5\":function(t,e,s){t.exports=s.p+\"static/img/safe.a6029de.png\"},RcGy:function(t,e){},S2NW:function(t,e,s){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var a=s(\"Xxa5\"),r=s.n(a),i=s(\"exGp\"),n=s.n(i),o=s(\"Dd8w\"),c=s.n(o),l=s(\"M4fF\"),p=s.n(l),u=s(\"6lib\"),d=s(\"+m19\"),h=s(\"DPnK\"),v=s(\"30IV\"),m=s(\"j3T7\"),f=s(\"4Chz\"),_=s(\"Oz5i\"),g=s(\"1+YM\"),w=s(\"1F7i\"),b=s(\"x4PG\"),y=s(\"WBRU\"),x=s(\"NYxO\"),C={mixins:[g.a],name:\"Register\",components:{VBtn:v.a,resbg:f.default,ixInput:_.a,bubble:w.a,VDownload:b.a,safeModal:y.a},props:[\"by\"],data:function(){var t=this;return{state:m.c,utils:u.a,errmsg:\"\",email:\"\",invitorId:\"\",hasInvitor:!1,hasAgent:!1,password:\"\",captcha:\"\",password2:\"\",atPw:!1,accept:!0,loading:!1,pwCheckList:h.a.getState(\"\"),phone:\"\",regionId:\"\",regionOptions:[],sms:{loading:!1,status:0,countDown:0,timer:null},validateRules:{phone:{errTips:this.$t(\"bind_phone_err_format\"),validateFunc:function(t){return!/\\d+$/.test(t)}},email:{errTips:this.$t(\"err_invalid_email\"),validateFunc:function(t){return!/^\\w+([-+.]\\w+)*@\\w+([-.]\\w+)*\\.\\w+([-.]\\w+)*$/.test(t)}},password:{errTips:this.$t(\"err_weak_password\"),validateFunc:function(t){var e=h.a.getState(t);return p.a.filter(e,function(t){return t.pass}).length<4}},password2:{errTips:this.$i18n.t(\"change_password_diff\"),validateFunc:function(){return t.password!==t.password2}},captcha:{errTips:this.$t(\"phone_code_ph\"),validateFunc:function(t){return!(t&&6===t.length)}}},triggerValidate:!1,showTutorialArrow:!1,pwdType:\"password\",pwdType2:\"password\",routerParams:\"\",showSafeModal:!0}},computed:c()({},Object(x.b)([\"safe\"]),{params:function(){var t={email:this.email,password:this.password,code:this.captcha};return\"phone\"===this.by&&(t.region=this.regionId,t.phone=this.phone),this.invitorId&&(t.invitor_id=this.invitorId),this.utm_source&&(t.utm_source=this.utm_source),t},utm_source:function(){if(0<location.search.length)return u.a.parseQueryString(location.search).utm_source||\"\"},pwLevel:function(){return p.a.filter(this.pwCheckList,function(t){return t.pass}).length},smsBtnText:function(){return 0===this.sms.status?this.$i18n.t(\"sms_send\"):2===this.sms.status?this.$i18n.t(\"sms_retry\"):this.$i18n.t(\"sms_retry\")+\"(\"+this.sms.countDown+\")\"},isMobile:function(){return this.utils.isMobile()}}),beforeDestroy:function(){console.log(11111),\"/user/login/phone\"!==this.$route.path&&\"/user/login/email\"!==this.$route.path&&this.$store.dispatch(\"safeHanle\",!0)},watch:{params:function(){this.resetError()},$route:function(){this.resetError(),this.clearCountDown()}},methods:{submit:function(){var a=this;return n()(r.a.mark(function t(){var e,s;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e=a.checkParams()).ok||a.triggerValidate)return e.em&&u.a.alert(e.em),t.abrupt(\"return\",!1);t.next=4;break;case 4:return a.resetError(),a.loading=!0,t.next=8,d.a.register(a.params);case 8:if(s=t.sent,a.loading=!1,s.code)return u.a.alert(s.message),a.loading=!1,t.abrupt(\"return\",!1);t.next=14;break;case 14:u.a.eraseCookie(\"invitor\"),u.a.success(a.$i18n.t(\"register_success\")),a.$router.push({name:\"login\"});case 17:case\"end\":return t.stop()}},t,a)}))()},active:function(t){this.atPw=t},input:function(t,e){this[t]=e},checkParams:function(){function t(t,e){return{ok:!1,em:t,field:e}}if(\"phone\"===this.by){if(!this.regionId)return t(this.$i18n.t(\"region_ph\"),\"regionId\");this.phone||(this.triggerValidate=!0)}return\"email\"===this.by&&(this.email||(this.triggerValidate=!0),/^[a-zA-Z0-9._-]+@[a-zA-Z0-9_-]+(\\.[a-zA-Z0-9_-]+)+$/.test(this.email)||(this.triggerValidate=!0)),this.password||(this.triggerValidate=!0),this.pwLevel<4&&(this.triggerValidate=!0),this.password!==this.password2&&(this.triggerValidate=!0),this.accept?{ok:!0}:t(this.$i18n.t(\"err_check_agreement\"),\"accept\")},pwChange:function(t){this.pwCheckList=h.a.getState(t)},startCountDown:function(){var t=this;clearInterval(this.sms.timer),this.sms.timer=setInterval(function(){--t.sms.countDown,t.sms.countDown<=0&&(t.sms.countDown=0,t.sms.status=2,clearInterval(t.sms.timer))},1e3)},clearCountDown:function(){this.sms.status=0,clearInterval(this.sms.timer)},getSmsCode:function(){var s=this;return n()(r.a.mark(function t(){var e;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(1===s.sms.status||s.sms.loading||s.loading)return t.abrupt(\"return\",!1);t.next=2;break;case 2:if(\"phone\"!==s.by){t.next=11;break}if(s.regionId){t.next=6;break}return u.a.alert(s.$i18n.t(\"region_ph\")),t.abrupt(\"return\",!1);case 6:if(s.phone){t.next=9;break}return u.a.alert(s.$i18n.t(\"bind_phone_err_empty\")),t.abrupt(\"return\",!1);case 9:t.next=14;break;case 11:if(s.email){t.next=14;break}return u.a.alert(s.$i18n.t(\"err_empty_email\")),t.abrupt(\"return\",!1);case 14:return s.sms.status=1,s.sms.countDown=60,s.startCountDown(),t.next=19,d.a.sendCode({by:s.by,region:s.regionId,phone:s.phone,email:s.email,lang:m.c.locale});case 19:(e=t.sent).code?u.a.alert(e.message):s.errmsg=\"\";case 21:case\"end\":return t.stop()}},t,s)}))()},goAgreement:function(){return\"/services\"},goPrivacy:function(){return\"/privacypolicy\"},resetError:function(){this.errmsg=\"\",this.triggerValidate=!1},fixPosition:function(){try{u.a.isMobile?this.$refs.container.style.minHeight=screen.availHeight+82-205+\"px\":this.$refs.container.style.minHeight=window.innerHeight+82-110-80+\"px\"}catch(t){console.log(t)}},closeSafe:function(){this.$store.dispatch(\"safeHanle\",!1)}},mounted:function(){var t=this;this.$eh.$on(\"app:resize\",function(){return t.fixPosition()}),this.$nextTick(this.fixPosition)},created:function(){var i=this;return n()(r.a.mark(function t(){var e,s,a;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=i.$route.query.invitor,s=i.$route.query.agent,e?(u.a.setCookie(\"invitor\",e,10),i.hasInvitor=!0,i.routerParams=\"?invitor=\"+e):e=s?(u.a.setCookie(\"invitor\",s,10),i.hasAgent=!0,i.routerParams=\"?agent=\"+s,s):u.a.getCookie(\"invitor\"),e&&/^[A-Za-z0-9]+$/.test(e)&&(i.invitorId=e),t.next=6,d.a.getRegionList();case 6:(a=t.sent).code||(i.regionOptions=a.data),\"zh-CN\"===m.c.locale&&(i.regionId=86);case 9:case\"end\":return t.stop()}},t,i)}))()},destroyed:function(){this.$eh.$off(\"app:resize\")}},$={render:function(){var r=this,t=r.$createElement,s=r._self._c||t;return s(\"div\",{staticClass:\"page page-register\"},[s(\"resbg\"),r._v(\" \"),r.isMobile?r._e():s(\"bubble\"),r._v(\" \"),s(\"div\",{ref:\"container\",staticClass:\"panel_box\"},[s(\"div\",{staticClass:\"panel\"},[s(\"div\",{staticClass:\"title-wrap\"},[s(\"div\",{directives:[{name:\"t\",rawName:\"v-t\",value:\"signup_title\",expression:\"'signup_title'\"}],staticClass:\"panel-title\"}),r._v(\" \"),r.state.enablePhoneSignup?s(\"div\",{staticClass:\"by-links\"},[s(\"router-link\",{staticClass:\"by-link ibt\",attrs:{to:{path:\"/user/register/email\"+r.routerParams}}},[r._v(\"\\n            \"+r._s(r.$t(\"register_by_email\"))+\"\\n          \")]),r._v(\" \"),s(\"span\",{staticClass:\"sp-line\"}),r._v(\" \"),s(\"router-link\",{staticClass:\"by-link ibt\",attrs:{to:{path:\"/user/register/phone\"+r.routerParams}}},[r._v(\"\\n            \"+r._s(r.$t(\"register_by_phone\"))+\"\\n          \")])],1):r._e()]),r._v(\" \"),s(\"form\",{staticClass:\"form\",attrs:{onsubmit:\"return false\",autocomplete:\"off\"},on:{keydown:function(t){return!t.type.indexOf(\"key\")&&r._k(t.keyCode,\"enter\",13,t.key,\"Enter\")?null:(t.stopPropagation(),t.preventDefault(),r.submit(t))}}},[s(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:\"phone\"===r.by,expression:\"by === 'phone'\"}],staticClass:\"field\"},[s(\"div\",{staticClass:\"input-box\"},[r.regionOptions.length?s(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:r.regionId,expression:\"regionId\"}],staticClass:\"select item\",on:{change:function(t){var e=Array.prototype.filter.call(t.target.options,function(t){return t.selected}).map(function(t){return\"_value\"in t?t._value:t.value});r.regionId=t.target.multiple?e:e[0]}}},[s(\"option\",{attrs:{value:\"\"}},[r._v(r._s(r.$t(\"region_ph\")))]),r._v(\" \"),r._l(r.regionOptions,function(t){return s(\"option\",{key:t.id,domProps:{value:t.id}},[s(\"span\",[r._v(\"+\"+r._s(t.id))]),r._v(\" \"),\"zh-CN\"===r.state.locale?[r._v(r._s(t.cname))]:[r._v(r._s(t.fullname))]],2)})],2):s(\"v-loading\",{attrs:{color:\"gray\"}})],1)]),r._v(\" \"),s(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:\"phone\"===r.by,expression:\"by === 'phone'\"}],class:[\"field\"]},[s(\"div\",{staticClass:\"input-box\"},[s(\"ix-input\",{ref:\"phone\",attrs:{\"trigger-validate\":r.triggerValidate,required:!0,\"empty-err-tips\":r.$t(\"bind_phone_err_empty\"),rule:r.validateRules.phone,placeholder:r.$t(\"bind_phone_input\"),label:r.$t(\"phone_number\")},on:{input:function(t){r.phone=t}},model:{value:r.phone,callback:function(t){r.phone=\"string\"==typeof t?t.trim():t},expression:\"phone\"}})],1)]),r._v(\" \"),s(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:\"email\"===r.by,expression:\"by === 'email'\"}],class:[\"field\"]},[s(\"div\",{staticClass:\"input-box\"},[s(\"ix-input\",{ref:\"email\",attrs:{\"trigger-validate\":r.triggerValidate,required:!0,\"empty-err-tips\":r.$t(\"err_empty_email\"),rule:r.validateRules.email,placeholder:\"you@example.com\",label:r.$t(\"email\")},on:{input:function(t){r.email=t}},model:{value:r.email,callback:function(t){r.email=\"string\"==typeof t?t.trim():t},expression:\"email\"}})],1)]),r._v(\" \"),s(\"div\",{class:[\"field\"]},[s(\"div\",{staticClass:\"input-box\"},[s(\"ix-input\",{ref:\"captcha\",staticClass:\"register__input-captcha\",attrs:{\"trigger-validate\":r.triggerValidate,required:!0,\"empty-err-tips\":r.$t(\"err_captcha_empty\"),rule:r.validateRules.captcha,placeholder:r.$t(\"captcha\"),label:r.$t(\"captcha\")},on:{input:function(t){r.captcha=t}},model:{value:r.captcha,callback:function(t){r.captcha=\"string\"==typeof t?t.trim():t},expression:\"captcha\"}}),r._v(\" \"),s(\"a\",{staticClass:\"sms-btn\",class:{disabled:1===r.sms.status},on:{click:function(t){return t.preventDefault(),r.getSmsCode(t)}}},[r._v(\"\\n              \"+r._s(r.smsBtnText))])],1)]),r._v(\" \"),s(\"div\",{class:[\"field\"]},[s(\"div\",{staticClass:\"input-box\"},[s(\"ix-input\",{ref:\"password\",attrs:{\"trigger-validate\":r.triggerValidate,type:r.pwdType,\"show-eye\":!0,required:!0,\"empty-err-tips\":r.$t(\"err_empty_password\"),rule:r.validateRules.password,placeholder:r.$t(\"pwcheck_ph\"),label:r.$t(\"password\")},on:{input:function(t){r.password=t,r.pwChange(t)},\"update:type\":function(t){r.pwdType=t},focus:function(t){return r.active(!0)},blur:function(t){return r.active(!1)}},model:{value:r.password,callback:function(t){r.password=\"string\"==typeof t?t.trim():t},expression:\"password\"}}),r._v(\" \"),s(\"div\",{staticClass:\"pw-helps\",class:{show:r.atPw}},[s(\"div\",{directives:[{name:\"t\",rawName:\"v-t\",value:\"pwcheck_guide\",expression:\"'pwcheck_guide'\"}],staticClass:\"title\"}),r._v(\" \"),s(\"ul\",{staticClass:\"pw-checks\"},r._l(r.pwCheckList,function(t,e){return s(\"li\",{key:e,staticClass:\"pw-check\"},[s(\"span\",{staticClass:\"pw-state\",class:{pass:t.pass}}),r._v(\" \"),s(\"span\",{staticClass:\"desc\"},[r._v(r._s(r.$t(t.desc)))])])}),0)])],1)]),r._v(\" \"),s(\"div\",{class:[\"field\"]},[s(\"div\",{staticClass:\"input-box\"},[s(\"ix-input\",{ref:\"password2\",attrs:{\"trigger-validate\":r.triggerValidate,required:!0,type:r.pwdType2,\"show-eye\":!0,\"empty-err-tips\":r.$t(\"change_password_diff\"),rule:r.validateRules.password2,placeholder:r.$t(\"pwcheck_ph2\"),label:r.$t(\"password2\")},on:{input:function(t){r.password2=t},\"update:type\":function(t){r.pwdType2=t}},model:{value:r.password2,callback:function(t){r.password2=\"string\"==typeof t?t.trim():t},expression:\"password2\"}})],1)]),r._v(\" \"),r.hasAgent?r._e():s(\"div\",{class:[\"field\"]},[s(\"div\",{staticClass:\"input-box\"},[s(\"ix-input\",{ref:\"invitor\",attrs:{disabled:r.hasInvitor,rule:r.validateRules.invitor,placeholder:r.$t(\"invitor_ph\"),label:r.$t(\"invitor\")},on:{input:function(t){r.invitorId=t}},model:{value:r.invitorId,callback:function(t){r.invitorId=\"string\"==typeof t?t.trim():t},expression:\"invitorId\"}})],1)]),r._v(\" \"),s(\"div\",{staticClass:\"field submit\"},[s(\"v-btn\",{staticClass:\"submit-btn\",attrs:{label:r.$t(\"signup_submit\"),loading:r.loading,height:\"40\",width:\"390\"},on:{click:r.submit}}),r._v(\" \"),s(\"div\",{staticClass:\"agreement\"},[s(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:r.accept,expression:\"accept\"}],staticClass:\"checkbox\",attrs:{type:\"checkbox\",name:\"accept\",id:\"accept\"},domProps:{checked:Array.isArray(r.accept)?-1<r._i(r.accept,null):r.accept},on:{change:function(t){var e=r.accept,s=t.target,a=!!s.checked;if(Array.isArray(e)){var i=r._i(e,null);s.checked?i<0&&(r.accept=e.concat([null])):-1<i&&(r.accept=e.slice(0,i).concat(e.slice(i+1)))}else r.accept=a}}}),r._v(\" \"),s(\"label\",{attrs:{for:\"accept\"},domProps:{innerHTML:r._s(r.$t(\"agreement\",{agreement:r.goAgreement(),privacyPolicy:r.goPrivacy()}))}})])],1)])])]),r._v(\" \"),s(\"v-download\"),r._v(\" \"),s(\"div\",[s(\"v-modal\",{staticClass:\"safe-modal\",attrs:{open:r.safe},on:{close:r.closeSafe,\"update:open\":function(t){r.safe=t}}},[s(\"safeModal\",{on:{close:r.closeSafe}})],1)],1)],1)},staticRenderFns:[]};var k=s(\"VU/8\")(C,$,!1,function(t){s(\"ysQ+\")},\"data-v-1b184b74\",null);e.default=k.exports},WBRU:function(t,e,s){\"use strict\";var a=s(\"6lib\"),i={name:\"SafeModal\",computed:{isMobile:function(){return a.a.isMobile()}},methods:{close:function(){this.$emit(\"close\")}}},r={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s(\"div\",{staticClass:\"safe-container\",class:{\"safe-contaienr-mobile\":t.isMobile}},[s(\"div\",{staticClass:\"safe-title\"},[s(\"icon\",{attrs:{name:\"information\",color:\"$primary;\"}}),t._v(\" \"),s(\"span\",[t._v(t._s(t.$t(\"modal.safeModal.greet\")))])],1),t._v(\" \"),s(\"div\",{staticClass:\"safe-content\"},[s(\"p\",[t._v(t._s(t.$t(\"modal.safeModal.content\")))]),t._v(\" \"),s(\"p\",{staticClass:\"pt-10\"},[t._v(t._s(t.$t(\"modal.safeModal.salute\")))])]),t._v(\" \"),s(\"div\",{staticClass:\"safe-footer\",attrs:{flex:\"main:right\"}},[s(\"el-button\",{attrs:{type:\"primary\"},on:{click:t.close}},[t._v(\" \"+t._s(t.$t(\"modal.safeModal.confirm\")))])],1)])},staticRenderFns:[]};var n=s(\"VU/8\")(i,r,!1,function(t){s(\"RcGy\")},\"data-v-fcd7eebe\",null);e.a=n.exports},XB7h:function(t,e,s){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var a=s(\"Xxa5\"),i=s.n(a),r=s(\"exGp\"),n=s.n(r),o={name:\"VValidate\",mounted:function(){var e=this,s=[\"CF_APP_1\",(new Date).getTime(),Math.random()].join(\":\");new noCaptcha({renderTo:\"#v-slide-validate\",appkey:\"CF_APP_1\",scene:\"register\",token:s,customWidth:280,trans:{key1:\"code0\"},elementID:[\"usernameID\"],is_Opt:0,language:\"cn\",isEnabled:!0,timeout:3e3,times:5,apimap:{},callback:function(t){e.$emit(\"validateDone\",t),window.console&&console.log(s),window.console&&console.log(t.csessionid),window.console&&console.log(t.sig)}}).upLang(\"en\",{_startTEXT:\"请按住滑块，拖动到最右边\",_yesTEXT:\"验证通过\",_error300:'哎呀，出错了，点击<a href=\"javascript:__nc.reset()\">刷新</a>再来一次',_errorNetwork:'网络不给力，请<a href=\"javascript:__nc.reset()\">点击刷新</a>'})}},c={render:function(){var t=this.$createElement;return(this._self._c||t)(\"div\",{staticClass:\"v-slide-validate\",attrs:{id:\"v-slide-validate\"}})},staticRenderFns:[]};var l=s(\"VU/8\")(o,c,!1,function(t){s(\"z1C+\")},\"data-v-cda4d37c\",null).exports,p=s(\"+m19\"),u=s(\"j3T7\"),d=s(\"DPnK\"),h=s(\"Oz5i\"),v=s(\"6lib\"),m=s(\"M4fF\"),f=s.n(m),_={mixins:[s(\"1+YM\").a],name:\"Recover\",components:{slideValidate:l,ixInput:h.a},props:[\"by\"],data:function(){var t=this;return{state:u.c,email:\"\",regionId:\"\",step:2,phone:\"\",atPw:!1,regionOptions:[],pwCheckList:d.a.getState(\"\"),loading:!1,disableNextBtn:!1,password:\"\",password2:\"\",captcha:\"\",sms:{loading:!1,status:0,countDown:0,timer:null},validateRules:{phone:{errTips:this.$t(\"bind_phone_err_format\"),validateFunc:function(t){return!/\\d+$/.test(t)}},email:{errTips:this.$t(\"err_invalid_email\"),validateFunc:function(t){return!/^\\w+([-+.]\\w+)*@\\w+([-.]\\w+)*\\.\\w+([-.]\\w+)*$/.test(t)}},password:{errTips:this.$t(\"err_weak_password\"),validateFunc:function(t){var e=d.a.getState(t);return f.a.filter(e,function(t){return t.pass}).length<4}},password2:{errTips:this.$i18n.t(\"change_password_diff\"),validateFunc:function(){return t.password!==t.password2}}},triggerValidate:!1}},computed:{smsBtnText:function(){return 0===this.sms.status?this.$i18n.t(\"sms_send\"):2===this.sms.status?this.$i18n.t(\"sms_retry\"):this.$i18n.t(\"sms_retry\")+\"(\"+this.sms.countDown+\")\"},params:function(){var t={by:this.by,email:this.email,password:this.password,code:this.captcha};return\"phone\"===this.by&&(t.region=this.regionId,t.phone=this.phone),t},pwLevel:function(){return f.a.filter(this.pwCheckList,function(t){return t.pass}).length}},methods:{nextstep:function(){var a=this;return n()(i.a.mark(function t(){var e,s;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e=a.checkParams()).ok||a.triggerValidate)return e.em&&v.a.alert(e.em),t.abrupt(\"return\",!1);t.next=4;break;case 4:return a.loading=!0,t.next=7,p.a.resetPassword(a.params);case 7:if((s=t.sent).code)return v.a.alert(s.message),a.loading=!1,t.abrupt(\"return\",!1);t.next=12;break;case 12:v.a.success(a.$i18n.t(\"reset_success\")),a.$router.push({name:\"login\"});case 14:case\"end\":return t.stop()}},t,a)}))()},checkParams:function(){function t(t,e){return{ok:!1,em:t,field:e}}if(\"phone\"===this.by){if(!this.regionId)return t(this.$i18n.t(\"region_ph\"),\"regionId\");this.phone||(this.triggerValidate=!0)}return\"email\"===this.by&&(this.email||(this.triggerValidate=!0),/^[a-zA-Z0-9._-]+@[a-zA-Z0-9_-]+(\\.[a-zA-Z0-9_-]+)+$/.test(this.email)||(this.triggerValidate=!0)),this.password||(this.triggerValidate=!0),this.pwLevel<4&&(this.triggerValidate=!0),this.password!==this.password2?(this.triggerValidate=!0,t(this.$i18n.t(\"change_password_diff\"),\"password2\")):{ok:!0}},pwChange:function(){this.pwCheckList=d.a.getState(this.password)},validateDone:function(){this.disableNextBtn=!1},active:function(t){this.atPw=t},resetError:function(){this.errmsg=\"\",this.triggerValidate=!1},getSmsCode:function(){var s=this;return n()(i.a.mark(function t(){var e;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(1===s.sms.status||s.sms.loading||s.loading)return t.abrupt(\"return\",!1);t.next=2;break;case 2:if(\"phone\"!==s.by){t.next=11;break}if(s.regionId){t.next=6;break}return v.a.alert(s.$i18n.t(\"region_ph\")),t.abrupt(\"return\",!1);case 6:if(s.phone){t.next=9;break}return v.a.alert(s.$i18n.t(\"bind_phone_err_empty\")),t.abrupt(\"return\",!1);case 9:t.next=14;break;case 11:if(s.email){t.next=14;break}return v.a.alert(s.$i18n.t(\"err_empty_email\")),t.abrupt(\"return\",!1);case 14:return s.sms.status=1,s.sms.countDown=60,s.startCountDown(),t.next=19,p.a.resetPaswordCode({by:s.by,region:s.regionId,email:s.email,phone:s.phone,lang:u.c.locale});case 19:(e=t.sent).code?s.errmsg=e.message:s.errmsg=\"\";case 21:case\"end\":return t.stop()}},t,s)}))()},startCountDown:function(){var t=this;clearInterval(this.sms.timer),this.sms.timer=setInterval(function(){--t.sms.countDown,t.sms.countDown<=0&&(t.sms.countDown=0,t.sms.status=2,clearInterval(t.sms.timer))},1e3)},clearCountDown:function(){this.sms.status=0,clearInterval(this.sms.timer)}},watch:{params:function(){this.resetError()},$route:function(){this.resetError(),this.clearCountDown()}},created:function(){var s=this;return n()(i.a.mark(function t(){var e;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.a.getRegionList();case 2:(e=t.sent).code||(s.regionOptions=e.data),\"zh-CN\"===u.c.locale&&(s.regionId=86);case 5:case\"end\":return t.stop()}},t,s)}))()}},g={render:function(){var s=this,t=s.$createElement,a=s._self._c||t;return a(\"div\",{staticClass:\"page page-login recover-container\"},[s.step<4?a(\"div\",{staticClass:\"panel\"},[a(\"div\",{staticClass:\"title-wrap\"},[a(\"div\",{directives:[{name:\"t\",rawName:\"v-t\",value:\"if_forgot\",expression:\"'if_forgot'\"}],staticClass:\"panel-title\"}),s._v(\" \"),a(\"div\",{staticClass:\"by-links\"},[a(\"router-link\",{staticClass:\"by-link ibt\",attrs:{to:\"email\"}},[s._v(s._s(s.$t(\"register_by_email\")))]),s._v(\" \"),a(\"span\",{staticClass:\"sp-line\"}),s._v(\" \"),a(\"router-link\",{staticClass:\"by-link ibt\",attrs:{to:\"phone\"}},[s._v(s._s(s.$t(\"register_by_phone\")))])],1)]),s._v(\" \"),a(\"form\",{staticClass:\"form pt-10\",attrs:{autocomplete:\"off\",onsubmit:\"return false\"}},[a(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:\"phone\"===s.by,expression:\"by === 'phone'\"}],staticClass:\"field\"},[a(\"div\",{staticClass:\"input-box\"},[s.regionOptions.length?a(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:s.regionId,expression:\"regionId\"}],staticClass:\"select item\",on:{change:function(t){var e=Array.prototype.filter.call(t.target.options,function(t){return t.selected}).map(function(t){return\"_value\"in t?t._value:t.value});s.regionId=t.target.multiple?e:e[0]}}},[a(\"option\",{attrs:{value:\"\"}},[s._v(s._s(s.$t(\"region_ph\")))]),s._v(\" \"),s._l(s.regionOptions,function(t){return a(\"option\",{key:t.id,domProps:{value:t.id}},[a(\"span\",[s._v(\"+\"+s._s(t.id))]),s._v(\" \"),\"zh-CN\"===s.state.locale?[s._v(s._s(t.cname))]:[s._v(s._s(t.fullname))]],2)})],2):a(\"v-loading\",{attrs:{color:\"gray\"}})],1)]),s._v(\" \"),a(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:\"phone\"===s.by,expression:\"by === 'phone'\"}],class:[\"field\"]},[a(\"div\",{staticClass:\"input-box\"},[a(\"ix-input\",{ref:\"phone\",attrs:{\"trigger-validate\":s.triggerValidate,required:!0,\"empty-err-tips\":s.$t(\"bind_phone_err_empty\"),rule:s.validateRules.phone,placeholder:s.$t(\"bind_phone_input\"),label:s.$t(\"phone_number\")},on:{input:function(t){s.phone=t}},model:{value:s.phone,callback:function(t){s.phone=\"string\"==typeof t?t.trim():t},expression:\"phone\"}})],1)]),s._v(\" \"),a(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:\"email\"===s.by,expression:\"by === 'email'\"}],class:[\"field\"]},[a(\"div\",{staticClass:\"input-box\"},[a(\"ix-input\",{ref:\"email\",attrs:{\"trigger-validate\":s.triggerValidate,required:!0,\"empty-err-tips\":s.$t(\"err_empty_email\"),rule:s.validateRules.email,placeholder:\"you@example.com\",label:s.$t(\"email\")},on:{input:function(t){s.email=t}},model:{value:s.email,callback:function(t){s.email=\"string\"==typeof t?t.trim():t},expression:\"email\"}})],1)]),s._v(\" \"),1===s.step?a(\"div\",{staticClass:\"field recover__validate mt-17\"},[a(\"slide-validate\",{on:{validateDone:s.validateDone}})],1):s._e(),s._v(\" \"),2===s.step?a(\"div\",{staticClass:\"field recover__validate\"},[a(\"div\",{staticClass:\"input-box\"},[a(\"ix-input\",{ref:\"captcha\",staticClass:\"register__input-captcha\",attrs:{\"trigger-validate\":s.triggerValidate,required:!0,\"empty-err-tips\":s.$t(\"err_captcha_empty\"),rule:s.validateRules.captcha,placeholder:s.$t(\"captcha\"),label:s.$t(\"captcha\")},on:{input:function(t){s.captcha=t}},model:{value:s.captcha,callback:function(t){s.captcha=\"string\"==typeof t?t.trim():t},expression:\"captcha\"}}),s._v(\" \"),a(\"a\",{staticClass:\"sms-btn\",class:{disabled:1===s.sms.status},on:{click:function(t){return t.preventDefault(),s.getSmsCode(t)}}},[s._v(\"\\n            \"+s._s(s.smsBtnText))])],1)]):s._e(),s._v(\" \"),2===s.step?a(\"div\",{class:[\"field\"]},[a(\"div\",{staticClass:\"input-box\"},[a(\"ix-input\",{ref:\"recoverPassword\",attrs:{autocomplete:\"off\",type:\"password\",required:!0,\"empty-err-tips\":s.$t(\"login_ph_pw\"),rule:s.validateRules.password,placeholder:s.$t(\"change_password_new\"),label:s.$t(\"change_password_new\")},on:{input:function(t){s.password=t,s.pwChange(t)},focus:function(t){return s.active(!0)},blur:function(t){return s.active(!1)}},model:{value:s.password,callback:function(t){s.password=\"string\"==typeof t?t.trim():t},expression:\"password\"}}),s._v(\" \"),a(\"div\",{staticClass:\"pw-helps\",class:{show:s.atPw}},[a(\"div\",{directives:[{name:\"t\",rawName:\"v-t\",value:\"pwcheck_guide\",expression:\"'pwcheck_guide'\"}],staticClass:\"title\"}),s._v(\" \"),a(\"ul\",{staticClass:\"pw-checks\"},s._l(s.pwCheckList,function(t,e){return a(\"li\",{key:e,staticClass:\"pw-check\"},[a(\"span\",{staticClass:\"pw-state\",class:{pass:t.pass}}),s._v(\" \"),a(\"span\",{staticClass:\"desc\"},[s._v(s._s(s.$t(t.desc)))])])}),0)])],1)]):s._e(),s._v(\" \"),2===s.step?a(\"div\",{class:[\"field\"]},[a(\"div\",{staticClass:\"input-box\"},[a(\"ix-input\",{ref:\"recoverPassword2\",attrs:{type:\"password\",autocomplete:\"off\",required:!0,\"empty-err-tips\":s.$t(\"change_password_diff\"),rule:s.validateRules.password2,placeholder:s.$t(\"change_password_repeat\"),label:s.$t(\"change_password_repeat\")},on:{input:function(t){s.password2=t}},model:{value:s.password2,callback:function(t){s.password2=\"string\"==typeof t?t.trim():t},expression:\"password2\"}})],1)]):s._e(),s._v(\" \"),a(\"div\",{staticClass:\"field submit mt-16\"},[a(\"v-btn\",{staticClass:\"submit-btn\",attrs:{label:s.$t(\"reset_password\"),height:\"40\",loading:s.loading,disabled:s.disableNextBtn},on:{click:s.nextstep}})],1)])]):s._e(),s._v(\" \"),a(\"div\",{staticClass:\"panel\"},[4===s.step?a(\"div\",{staticClass:\"recover-success\"},[a(\"icon\",{attrs:{name:\"reset-psw-success\"}}),s._v(\" \"),a(\"div\",{staticClass:\"success__text\"},[s._v(\"\\n        \"+s._s(s.$t(\"reset_success\"))+\"\\n      \")])],1):s._e()])])},staticRenderFns:[]};var w=s(\"VU/8\")(_,g,!1,function(t){s(\"3IOu\")},\"data-v-8d6c8356\",null);e.default=w.exports},nl1x:function(t,e){},\"ysQ+\":function(t,e){},\"z1C+\":function(t,e){}});"}