{"source":"webpackJsonp([20],{\"+rdm\":function(t,e){},\"4t1N\":function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=n(\"lC5x\"),i=n.n(r),a=n(\"J0Oq\"),s=n.n(a),o=n(\"+m19\"),c=n(\"30IV\"),l=n(\"6lib\"),u=n(\"j3T7\"),_={name:\"SafeVerified\",components:{VBtn:c.a},data:function(){var r=this;return{state:u.c,loading:!1,form:{name:\"\",id_type:1,id_number:\"\"},rules:{name:[{required:!0,message:this.$i18n.t(\"kyc_name_err\"),trigger:\"blur\"}],id_number:[{validator:function(t,e,n){e||n(new Error(r.$i18n.t(\"kyc_ph_id\"))),1===r.form.id_type?/^.+$/g.test(e)||n(new Error(r.$i18n.t(\"kyc_id_no_err\"))):/^[a-zA-Z0-9]{1,9}$/.test(e)||n(new Error(r.$i18n.t(\"kyc_passport_err\"))),n()},trigger:\"blur\"}]}}},computed:{},beforeRouteEnter:function(t,e,n){var r=this;return s()(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.a.updateSession();case 2:u.c.userInfo.lv&&1===u.c.userInfo.lv&&n({name:\"KycStep2\"}),n();case 4:case\"end\":return t.stop()}},t,r)}))()},methods:{submit:function(){var a=this;return s()(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a.$refs.form.validate(function(){var e=s()(i.a.mark(function t(e){var n,r;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt(\"return\");case 2:return n={name:a.form.name,id_type:a.form.id_type,id_number:a.form.id_number},t.next=5,o.a.updateKyc1(n);case 5:if(r=t.sent)return r.code&&l.a.alert(r.message),t.next=10,u.a.updateSession();t.next=11;break;case 10:a.$router.push({name:\"KycStep2\"});case 11:case\"end\":return t.stop()}},t,a)}));return function(t){return e.apply(this,arguments)}}());case 1:case\"end\":return t.stop()}},t,a)}))()}}},d={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"div\",{staticClass:\"profile-container\"},[n(\"div\",{staticClass:\"title-box\"},[e._v(e._s(e.$t(\"identity_authentication\"))),n(\"span\",[e._v(e._s(e.$t(\"Verified\")))])]),e._v(\" \"),n(\"div\",{staticClass:\"invinfo-box\"},[n(\"div\",{staticClass:\"authen_top\"},[n(\"i\",{}),e._v(\" \"),n(\"p\",{staticClass:\"yy\"},[e._v(\"\\n        \"+e._s(e.$t(\"identity_authentication1\"))+\"\\n      \")]),e._v(\" \"),n(\"p\",{},[e._v(\"\\n        \"+e._s(e.$t(\"kyc_upload\"))+\"\\n      \")]),e._v(\" \"),n(\"p\",[e._v(\"\\n        \"+e._s(e.$t(\"kyc_complete\"))+\"\\n      \")]),e._v(\" \"),n(\"i\")]),e._v(\" \"),n(\"el-form\",{ref:\"form\",staticClass:\"form\",attrs:{rules:e.rules,\"label-position\":\"left\",model:e.form,\"label-width\":\"104px\"}},[n(\"el-form-item\",{staticClass:\"inp_box\",attrs:{prop:\"name\",label:e.$t(\"name\")}},[n(\"el-input\",{model:{value:e.form.name,callback:function(t){e.$set(e.form,\"name\",t)},expression:\"form.name\"}})],1),e._v(\" \"),n(\"el-form-item\",{staticClass:\"inp_box\",attrs:{label:e.$t(\"kyc_id_type\")}},[n(\"el-select\",{model:{value:e.form.id_type,callback:function(t){e.$set(e.form,\"id_type\",t)},expression:\"form.id_type\"}},[n(\"el-option\",{attrs:{label:e.$t(\"kyc_idcard\"),value:1}}),e._v(\" \"),n(\"el-option\",{attrs:{label:e.$t(\"kyc_passport\"),value:2}})],1)],1),e._v(\" \"),n(\"el-form-item\",{staticClass:\"inp_box\",attrs:{prop:\"id_number\",label:e.$t(\"kyc_id_number\")}},[n(\"el-input\",{model:{value:e.form.id_number,callback:function(t){e.$set(e.form,\"id_number\",t)},expression:\"form.id_number\"}})],1),e._v(\" \"),n(\"el-form-item\",{staticClass:\"inp_box\"},[n(\"v-btn\",{staticClass:\"submit-btn\",attrs:{label:e.$t(\"kyc_submit\"),loading:e.loading},on:{click:e.submit}})],1)],1)],1)])},staticRenderFns:[]};var m=n(\"C7Lr\")(_,d,!1,function(t){n(\"+rdm\")},\"data-v-62cc0b56\",null);e.default=m.exports},O2DE:function(t,e){},uNUv:function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=n(\"lC5x\"),i=n.n(r),a=n(\"J0Oq\"),s=n.n(a),o=n(\"+m19\"),c=(n(\"30IV\"),n(\"6lib\")),l=n(\"j3T7\"),u={},_={data:function(){var r=this;return{regionId:\"\",regionOptions:[],state:l.c,loading:!1,form:{name:\"\",regionId:86,id_type:1,id_number:\"\"},rules:{name:[{required:!0,message:this.$i18n.t(\"kyc_name_err\"),trigger:\"blur\"}],id_number:[{validator:function(t,e,n){e||n(new Error(r.$i18n.t(\"kyc_ph_id\"))),1===r.form.id_type&&86===r.form.regionId?/^[1-9]\\d{5}(18|19|2([0-9]))\\d{2}(0[0-9]|10|11|12)([0-2][0-9]|30|31)\\d{3}[0-9Xx]$/.test(e)||n(new Error(r.$i18n.t(\"kyc_id_no_err\"))):/^[0-9A-Za-z]{6,32}$/.test(e)||n(new Error(r.$i18n.t(\"kyc_passport_err\"))),n()},trigger:\"blur\"}]},step:1}},beforeRouteEnter:function(t,e,n){var r=this;return s()(i.a.mark(function t(){var e;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=3,o.a.getKycInfo();case 3:!(e=t.sent).code&&e.data&&(u=e.data,1<=e.data.lv&&n({name:\"KycStep2\"})),n();case 6:case\"end\":return t.stop()}},t,r)}))()},methods:{selectChange:function(t){this.form.id_number=\"\",this.form.id_type=86===t?1:2},fetchRegion:function(){var n=this;return s()(i.a.mark(function t(){var e;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.getRegionList();case 2:(e=t.sent).code||(n.regionOptions=e.data);case 4:case\"end\":return t.stop()}},t,n)}))()},submit:function(){var a=this;return s()(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a.$refs.form.validate(function(){var e=s()(i.a.mark(function t(e){var n,r;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt(\"return\");case 2:return n={name:a.form.name,region:a.form.regionId,id_type:a.form.id_type,id_number:a.form.id_number},t.next=5,o.a.updateKyc1(n);case 5:if(r=t.sent)return r.code&&c.a.alert(r.message),t.next=10,l.a.updateSession();t.next=11;break;case 10:a.step=2;case 11:case\"end\":return t.stop()}},t,a)}));return function(t){return e.apply(this,arguments)}}());case 1:case\"end\":return t.stop()}},t,a)}))()},getKycInfo:function(){var n=this;return s()(i.a.mark(function t(){var e;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.getKycInfo();case 2:(e=t.sent).code||(u=e.data);case 4:case\"end\":return t.stop()}},t,n)}))()}},created:function(){var n=this;return s()(i.a.mark(function t(){var e;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n.fetchRegion(),t.next=3,o.a.getKycInfo();case 3:!(e=t.sent).code&&e.data&&(0===e.data.lv?(n.form.name=e.data.name||\"\",n.form.regionId=e.data.region||86,n.form.id_type=e.data.id_type||1,n.form.id_number=e.data.id_number||\"\",n.selectChange(n.form.regionId)):1===u.lv&&1===u.state&&86!==u.region?n.$router.replace({name:\"KycStep3\"}):(e.data.lv=1)?n.$router.replace({name:\"KycStep2\"}):(e.data.lv=2)&&n.$router.replace({name:\"KycStep3\"}));case 5:case\"end\":return t.stop()}},t,n)}))()}},d={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"div\",{staticClass:\"profile-container\"},[n(\"div\",{staticClass:\"title-box\"},[e._v(e._s(e.$t(\"identity_authentication\"))),n(\"span\",[e._v(e._s(e.$t(\"Verified\")))])]),e._v(\" \"),n(\"div\",{staticClass:\"invinfo-box\"},[n(\"div\",{staticClass:\"authen_top\"},[n(\"i\",{}),e._v(\" \"),n(\"p\",{staticClass:\"yy\"},[e._v(\"\\n        \"+e._s(e.$t(\"kyc_top_authen_1\"))+\"\\n      \")]),e._v(\" \"),n(\"p\",{},[e._v(\"\\n        \"+e._s(e.$t(\"kyc_top_authen_2\"))+\"\\n      \")])]),e._v(\" \"),1===e.step?n(\"div\",{staticClass:\"invinfo-content\"},[n(\"div\",{staticClass:\"option-title\"},[n(\"h3\",[n(\"i\",[e._v(\"1\")]),e._v(\" \"),n(\"span\",[e._v(e._s(e.$t(\"kyc_title_info\")))]),e._v(\" \"),n(\"label\",[e._v(e._s(e.$t(\"kyc_title_state_padding\")))])])]),e._v(\" \"),n(\"el-form\",{ref:\"form\",staticClass:\"form\",attrs:{rules:e.rules,\"label-position\":\"left\",model:e.form,\"label-width\":\"104px\"}},[n(\"el-form-item\",{staticClass:\"inp_box\",attrs:{prop:\"nationality\",label:e.$t(\"kyc_form_nationality\")}},[e.regionOptions.length?e._e():n(\"v-loading\",{attrs:{color:\"gray\"}}),e._v(\" \"),n(\"el-select\",{attrs:{filterable:\"\"},on:{change:e.selectChange},model:{value:e.form.regionId,callback:function(t){e.$set(e.form,\"regionId\",t)},expression:\"form.regionId\"}},e._l(e.regionOptions,function(t){return n(\"el-option\",{key:t.id,attrs:{value:t.id,label:\"zh-CN\"===e.state.locale?t.cname:t.fullname}})}),1)],1),e._v(\" \"),n(\"el-form-item\",{staticClass:\"inp_box\",attrs:{prop:\"name\",label:e.$t(\"name\")}},[n(\"el-input\",{model:{value:e.form.name,callback:function(t){e.$set(e.form,\"name\",t)},expression:\"form.name\"}})],1),e._v(\" \"),n(\"el-form-item\",{staticClass:\"inp_box\",attrs:{label:e.$t(\"kyc_id_type\")}},[n(\"el-select\",{attrs:{disabled:86===e.form.regionId},model:{value:e.form.id_type,callback:function(t){e.$set(e.form,\"id_type\",t)},expression:\"form.id_type\"}},[n(\"el-option\",{attrs:{label:e.$t(\"kyc_idcard\"),value:1}}),e._v(\" \"),n(\"el-option\",{attrs:{label:e.$t(\"kyc_passport\"),value:2}})],1)],1),e._v(\" \"),n(\"el-form-item\",{staticClass:\"inp_box\",attrs:{prop:\"id_number\",label:e.$t(\"kyc_cf_id\")}},[n(\"el-input\",{model:{value:e.form.id_number,callback:function(t){e.$set(e.form,\"id_number\",t)},expression:\"form.id_number\"}})],1),e._v(\" \"),n(\"el-form-item\",{staticClass:\"inp_box\"},[n(\"v-btn\",{staticClass:\"submit-btn\",attrs:{label:e.$t(\"kyc_form_submit\"),loading:e.loading},on:{click:e.submit}})],1)],1)],1):e._e(),e._v(\" \"),2===e.step?n(\"div\",{staticClass:\"invinfo-content\"},[n(\"div\",{staticClass:\"option-title\"},[n(\"h3\",[n(\"icon\",{attrs:{name:\"true\"}}),e._v(\" \"),n(\"span\",[e._v(e._s(e.$t(\"kyc_complete_kyc1\")))])],1)]),e._v(\" \"),n(\"div\",{staticClass:\"option-notice\"},[n(\"p\",{staticClass:\"notice\"},[e._v(\"\\n          \"+e._s(e.$t(\"kyc_notice_1\"))+\"\\n        \")]),e._v(\" \"),n(\"p\",{staticClass:\"notice\"},[e._v(\"\\n          \"+e._s(e.$t(\"kyc_notice_2\"))+\"\\n        \")])]),e._v(\" \"),n(\"div\",{staticClass:\"option-button\"},[n(\"router-link\",{staticClass:\" mr-22 router-btn light\",attrs:{to:\"/profile/kyc/kyc_step2\"}},[e._v(\" \"+e._s(e.$t(\"kyc_to_kyc2\")))]),e._v(\" \"),n(\"router-link\",{staticClass:\" mr-22 router-btn\",attrs:{to:{name:\"trading\"}}},[e._v(\" \"+e._s(e.$t(\"trading\")))])],1)]):e._e()])])},staticRenderFns:[]};var m=n(\"C7Lr\")(_,d,!1,function(t){n(\"O2DE\")},\"data-v-7a6fd464\",null);e.default=m.exports}});"}