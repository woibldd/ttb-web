{"source":"webpackJsonp([12],{\"+dlR\":function(e,t){},\"1F7i\":function(e,t,i){\"use strict\";var a={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"div\",{staticClass:\"container\"},[a(\"div\",{staticClass:\"wrap\"},[a(\"div\",{staticClass:\"text-box\"},[a(\"div\",{staticClass:\"title\"},[e._v(e._s(e.$t(\"bubble_ix_team\")))]),e._v(\" \"),a(\"div\",{staticClass:\"sub-text\"},[e._v(e._s(e.$t(\"bubble_site_tips\")))]),e._v(\" \"),e._m(0)])])])},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"div\",{staticClass:\"content\"},[a(\"a\",{staticClass:\"domain-text\",attrs:{href:\"https://ixx.com\"}},[a(\"img\",{staticClass:\"safe-icon\",attrs:{src:i(\"6ZN5\"),alt:\"\"}}),e._v(\"\\n            https://ixx.com\\n        \")])])}]};var o=i(\"C7Lr\")({},a,!1,function(e){i(\"E5TL\")},\"data-v-37abf51e\",null);t.a=o.exports},\"6ZN5\":function(e,t,a){e.exports=a.p+\"static/img/safe.a6029de.png\"},E5TL:function(e,t){},\"N37+\":function(e,t){},P7ry:function(e,t,a){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i=a(\"lC5x\"),s=a.n(i),o=a(\"J0Oq\"),n=a.n(o),r=a(\"4YfN\"),l=a.n(r),c=a(\"+m19\"),d=a(\"30IV\"),u=a(\"j3T7\"),p=a(\"6lib\"),v=a(\"4Chz\"),f=a(\"Oz5i\"),m=a(\"36He\"),_=a(\"1+YM\"),h=a(\"1F7i\"),g=a(\"x4PG\"),y=(a(\"kcYQ\"),a(\"WBRU\")),b=a(\"2bvH\"),C={name:\"Login\",components:{VBtn:d.a,resbg:v.default,ixInput:f.a,countDown:m.a,bubble:h.a,VDownload:g.a,safeModal:y.a},mixins:[_.a],props:[\"by\"],data:function(){return{autocomplete:\"on\",local:u.b,state:u.c,utils:p.a,pwdType:\"password\",regionId:\"\",errmsg:\"\",email:\"\",password:\"\",loading:!1,showModal:!1,google_key_bound:0,phoneCode:\"\",emailCode:\"\",googleCode:\"\",phone:\"\",verify_phone:0,verify_email:0,verify_google:0,regionOptions:[],validateRules:{phone:{errTips:this.$t(\"bind_phone_err_format\"),validateFunc:function(e){return!/\\d+$/.test(e)}},email:{errTips:this.$t(\"err_invalid_email\"),validateFunc:function(e){return!/^\\w+([-+.]\\w+)*@\\w+([-.]\\w+)*\\.\\w+([-.]\\w+)*$/.test(e)}},password:{}},prevent:!1,showSafeModal:!0}},beforeRouteEnter:function(e,t,a){return\"email\"===e.params.by||\"phone\"===e.params.by&&u.c.enablePhoneSignup?a():void a({name:\"loginBy\",params:{by:\"email\"},query:e.query})},beforeDestroy:function(){\"/user/login/phone\"!==this.$route.path&&\"/user/login/email\"!==this.$route.path&&this.$store.dispatch(\"safeHanle\",!0)},computed:l()({},Object(b.mapState)([\"safe\"]),{params:function(){var e={password:this.password};return\"email\"===this.by?e.email=this.email:\"phone\"===this.by&&(e.phone=this.phone,e.region=this.regionId),e},verify_type:function(){var e=\"email\";return 1===this.verify_google?e=\"google\":this.verify_phone?e=\"phone\":this.verify_email&&(e=\"email\"),e},isMobile:function(){return this.utils.isMobile()}}),watch:{showModal:function(e){e||(this.loading=e)},params:function(){this.errmsg=\"\"}},mounted:function(){var e=this;this.$eh.$on(\"app:resize\",function(){return e.fixPosition()}),this.$nextTick(this.fixPosition)},created:function(){this.fetchRegion();var e=this;setTimeout(function(){u.c.userInfo&&e.$router.push(\"/\")},500);var t=this.$route.query.return_to;t&&-1<t.indexOf(\"https://ix.zendesk.com/\")&&u.a.setLoginBack(\"/zendesk/auth\"+location.search);var a=this.$route.query.from;a&&(/^\\/campaigns\\//.test(a)||/^\\/activity\\//.test(a))&&u.a.setLoginBack(a)},destroyed:function(){this.$eh.$off(\"app:resize\")},methods:{download:function(e){var t=\"https://upgrade-app.oss-cn-hangzhou.aliyuncs.com/two/ixx.apk\";\"ios\"===e&&(t=\"itms-services://?action=download-manifest&url=https://upgrade-app.oss-cn-hangzhou.aliyuncs.com/two/install-manifest.plist\"),window.location.href=t},fetchRegion:function(){var a=this;return n()(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.a.getRegionList();case 2:(t=e.sent).code||(a.regionOptions=t.data,+a.local.regionId?a.regionId=+a.local.regionId:\"zh-CN\"!==u.c.locale||a.local.regionId?\"ja\"!==u.c.locale||a.local.regionId||(a.regionId=81):a.regionId=86);case 4:case\"end\":return e.stop()}},e,a)}))()},checkParams:function(){if(this.$refs.password.validateSuccess){if(\"phone\"===this.by&&this.$refs.phone.validateSuccess)return!0;if(\"email\"===this.by&&this.$refs.email.validateSuccess)return!0}return!1},hideModal:function(){this.showModal=!1},keyPress:function(e){var t=e.srcElement.value;t&&6===t.length&&/^\\d{6}$/.test(t)&&this.toVerifyCode()},submit:function(){var a=this;return n()(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a.checkParams()){e.next=3;break}return e.abrupt(\"return\",!1);case 3:return a.errmsg=\"\",a.loading=!0,e.next=7,c.a.login(a.params);case 7:if((t=e.sent).code)return a.loading=!1,p.a.alert(t.message),e.abrupt(\"return\",!1);e.next=12;break;case 12:\"phone\"===a.by&&(a.local.regionId=a.regionId),p.a.eraseCookie(\"invitor\"),t.data.google_key_bound||t.data.phone||t.data.email?(a.google_key_bound=t.data.google_key_bound,a.phone=t.data.phone,a.email=t.data.email,a.verify_phone=t.data.verify_phone,a.verify_email=t.data.verify_email,a.verify_google=t.data.verify_login_google,a.showModal=!0,a.$nextTick(function(){var e=a.verify_type;\"google\"===e?a.$refs.googleCode.focus():\"phone\"===e?a.$refs.phoneCode.focus():a.$refs.emailCode.focus()})):a.loginSuccess(t.data);case 15:case\"end\":return e.stop()}},e,a)}))()},fixPosition:function(){try{p.a.isMobile?this.$refs.container.style.height=screen.availHeight-205+\"px\":this.$refs.container.style.height=window.innerHeight-110-80+\"px\"}catch(e){}},toVerifyCode:function(){var o=this;return n()(s.a.mark(function e(){var t,a,i;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(1==o.prevent)return e.abrupt(\"return\");e.next=2;break;case 2:if(setTimeout(function(){o.prevent=!1},2e3),o.prevent=!0,t=o.verify_type,a={},\"google\"===t?(a={code:o.googleCode},o.$refs.googleCode.focus()):\"phone\"===t?(a={phone:o.phone,code:o.phoneCode},o.$refs.phoneCode.focus()):(a={email:o.email,code:o.emailCode},o.$refs.emailCode.focus()),a.code){e.next=11;break}return p.a.alert(o.$i18n.t(\"err_captcha_empty\")),e.abrupt(\"return\");case 11:return e.next=13,c.a.verifyLoginVerifyCode(a,t);case 13:(i=e.sent).code?p.a.alert(i.message):i.data&&i.data.verified&&o.loginSuccess(i.data);case 15:case\"end\":return e.stop()}},e,o)}))()},loginSuccess:function(t){var a=this;return n()(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:u.a.setUserInfo(t),u.a.resetStatus(),\"string\"==typeof u.c.loginBack?location.href=u.c.loginBack:a.$router.push(u.c.loginBack),u.a.setLoginBack(null),setTimeout(function(){a.$eventBus.$emit(\"handleFirstLogin\")},100);case 5:case\"end\":return e.stop()}},e,a)}))()},getPhoneVerifyCode:function(){var e={region:this.regionId,phone:this.phone,email:this.email};c.a.getLoginVerifyCode(e,\"phone\").then(function(e){e.code&&p.a.alert(e.message)})},getEmailVerifyCode:function(){var e={region:this.regionId,email:this.email};c.a.getLoginVerifyCode(e,\"email\").then(function(e){e.code&&p.a.alert(e.message)})},closeSafe:function(){this.$store.dispatch(\"safeHanle\",!1)}}},w={render:function(){var a=this,e=a.$createElement,t=a._self._c||e;return t(\"div\",{staticClass:\"page page-login\"},[a.isMobile?a._e():t(\"bubble\"),a._v(\" \"),t(\"resbg\"),a._v(\" \"),t(\"div\",{ref:\"container\",staticClass:\"panel_box\"},[t(\"div\",{staticClass:\"panel\"},[t(\"div\",{staticClass:\"title-wrap\"},[t(\"div\",{directives:[{name:\"t\",rawName:\"v-t\",value:\"signin\",expression:\"'signin'\"}],staticClass:\"panel-title\"}),a._v(\" \"),a.state.enablePhoneSignup?t(\"div\",{staticClass:\"by-links ibt\"},[t(\"router-link\",{staticClass:\"by-link ibt\",attrs:{to:\"email\"}},[a._v(a._s(a.$t(\"login_by_email\")))]),a._v(\" \"),t(\"span\",{staticClass:\"sp-line\"}),a._v(\" \"),t(\"router-link\",{staticClass:\"by-link ibt\",attrs:{to:\"phone\"}},[a._v(a._s(a.$t(\"login_by_phone\")))])],1):a._e()]),a._v(\" \"),t(\"form\",{staticClass:\"form\",attrs:{onsubmit:\"return false\",autocomplete:\"on\"},on:{keydown:function(e){return!e.type.indexOf(\"key\")&&a._k(e.keyCode,\"enter\",13,e.key,\"Enter\")?null:(e.stopPropagation(),e.preventDefault(),a.submit(e))}}},[t(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:\"phone\"===a.by,expression:\"by === 'phone'\"}],class:[\"field\"]},[t(\"div\",{staticClass:\"input-box\"},[t(\"div\",{staticClass:\"label\"},[a._v(a._s(a.$t(\"region_label\")))]),a._v(\" \"),a.regionOptions.length?t(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:a.regionId,expression:\"regionId\"}],staticClass:\"select\",attrs:{tabindex:\"1\"},on:{change:function(e){var t=Array.prototype.filter.call(e.target.options,function(e){return e.selected}).map(function(e){return\"_value\"in e?e._value:e.value});a.regionId=e.target.multiple?t:t[0]}}},[t(\"option\",{attrs:{value:\"\"}},[a._v(a._s(a.$t(\"region_ph\")))]),a._v(\" \"),a._l(a.regionOptions,function(e){return t(\"option\",{key:e.id,domProps:{value:e.id}},[t(\"span\",[a._v(\"+\"+a._s(e.id))]),a._v(\" \"),\"zh-CN\"===a.state.locale?[a._v(a._s(e.cname))]:[a._v(a._s(e.fullname))]],2)})],2):t(\"v-loading\",{attrs:{color:\"gray\"}})],1)]),a._v(\" \"),t(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:\"phone\"===a.by,expression:\"by === 'phone'\"}],staticClass:\"field\"},[t(\"div\",{staticClass:\"input-box\"},[t(\"ix-input\",{ref:\"phone\",attrs:{required:!0,\"empty-err-tips\":a.$t(\"bind_phone_err_empty\"),rule:a.validateRules.phone,placeholder:a.$t(\"bind_phone_input\"),label:a.$t(\"phone_number\"),tabindex:\"2\"},model:{value:a.phone,callback:function(e){a.phone=\"string\"==typeof e?e.trim():e},expression:\"phone\"}})],1)]),a._v(\" \"),t(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:\"email\"===a.by,expression:\"by === 'email'\"}],class:[\"field\"]},[t(\"div\",{staticClass:\"input-box\"},[t(\"ix-input\",{ref:\"email\",attrs:{required:!0,\"empty-err-tips\":a.$t(\"err_empty_email\"),rule:a.validateRules.email,placeholder:a.$t(\"err_empty_email\"),label:a.$t(\"login_label_mail\"),tabindex:\"2\"},model:{value:a.email,callback:function(e){a.email=\"string\"==typeof e?e.trim():e},expression:\"email\"}})],1)]),a._v(\" \"),t(\"div\",{class:[\"field\"]},[t(\"div\",{staticClass:\"input-box\"},[t(\"ix-input\",{ref:\"password\",attrs:{autocomplete:a.autocomplete,required:!0,type:a.pwdType,\"show-eye\":!0,\"empty-err-tips\":a.$t(\"err_empty_password\"),rule:a.validateRules.password,placeholder:a.$t(\"err_empty_password\"),label:a.$t(\"login_label_pw\"),tabindex:\"3\"},on:{\"update:type\":function(e){a.pwdType=e},input:function(e){a.password=e}},model:{value:a.password,callback:function(e){a.password=\"string\"==typeof e?e.trim():e},expression:\"password\"}})],1)]),a._v(\" \"),t(\"div\",{staticClass:\"field submit\"},[t(\"v-btn\",{staticClass:\"submit-btn\",attrs:{label:a.$t(\"signin\"),loading:a.loading,tabindex:\"4\",height:\"40\",width:\"290\"},on:{click:a.submit}}),a._v(\" \"),t(\"div\",{staticClass:\"to-others\"},[t(\"div\",{staticClass:\"mr-10\"},[t(\"router-link\",{attrs:{to:{name:\"recover\"}}},[a._v(a._s(a.$t(\"if_forgot\"))+\"?\\n              \")])],1),a._v(\" \"),t(\"div\",{staticClass:\"mr-10 mt-6\"},[t(\"span\",{staticStyle:{\"font-size\":\"14px\",color:\"#999\"}},[a._v(\"  \"+a._s(a.$t(\"no_account\"))+\" \")]),a._v(\" \"),t(\"router-link\",{attrs:{to:{name:\"registerBy\",params:a.$route.params,query:a.$route.query}}},[a._v(a._s(a.$t(\"signup\"))+\"\\n              \")])],1)])],1)])])]),a._v(\" \"),t(\"v-download\"),a._v(\" \"),t(\"v-modal\",{attrs:{open:a.showModal,backdrop:!1},on:{\"update:open\":function(e){a.showModal=e},click:a.hideModal}},[t(\"div\",{staticClass:\"ensure-modal\"},[t(\"div\",{staticClass:\"modal__title mb-30\"},[a._v(a._s(a.$t(\"security_verification\")))]),a._v(\" \"),t(\"div\",{staticClass:\"modal__content\"},[\"google\"===a.verify_type?t(\"div\",{staticClass:\"modal__row mt-12 mb-25\"},[t(\"div\",{staticClass:\"row__label mb-9\"},[a._v(a._s(a.$t(\"fa2_google_code_mobile\")))]),a._v(\" \"),t(\"div\",{staticClass:\"row__input\"},[t(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:a.googleCode,expression:\"googleCode\"}],ref:\"googleCode\",staticClass:\"input-validate google mr-14\",attrs:{maxlength:\"6\"},domProps:{value:a.googleCode},on:{input:[function(e){e.target.composing||(a.googleCode=e.target.value)},a.keyPress],keydown:function(e){return!e.type.indexOf(\"key\")&&a._k(e.keyCode,\"enter\",13,e.key,\"Enter\")?null:(e.stopPropagation(),e.preventDefault(),a.toVerifyCode(e))}}})])]):\"phone\"===a.verify_type?t(\"div\",{staticClass:\"modal_phone\"},[t(\"div\",{staticClass:\"modal__row\"},[t(\"div\",{staticClass:\"row__label mb-9\"},[a._v(a._s(a.$t(\"register_by_phone\")))]),a._v(\" \"),t(\"div\",{staticClass:\"row__input\"},[a._v(a._s(a.phone)+\" \")])]),a._v(\" \"),t(\"div\",{staticClass:\"modal__row mt-12 mb-25\"},[t(\"div\",{staticClass:\"row__label mb-9\"},[a._v(a._s(a.$t(\"phone_code\")))]),a._v(\" \"),t(\"div\",{staticClass:\"row__input\"},[t(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:a.phoneCode,expression:\"phoneCode\"}],ref:\"phoneCode\",staticClass:\"input-validate mr-14\",attrs:{maxlength:\"6\"},domProps:{value:a.phoneCode},on:{input:[function(e){e.target.composing||(a.phoneCode=e.target.value)},a.keyPress],keydown:function(e){return!e.type.indexOf(\"key\")&&a._k(e.keyCode,\"enter\",13,e.key,\"Enter\")?null:(e.stopPropagation(),e.preventDefault(),a.toVerifyCode(e))}}}),a._v(\" \"),t(\"count-down\",{attrs:{\"send-text\":a.$t(\"hq_send\"),\"start-when-loaded\":a.showModal,\"send-code-func\":a.getPhoneVerifyCode}})],1)])]):\"email\"===a.verify_type?t(\"div\",{staticClass:\"modal_phone\"},[t(\"div\",{staticClass:\"modal__row\"},[t(\"div\",{staticClass:\"row__label mb-9\"},[a._v(a._s(a.$t(\"register_by_email\")))]),a._v(\" \"),t(\"div\",{staticClass:\"row__input\"},[a._v(a._s(a.email)+\" \")])]),a._v(\" \"),t(\"div\",{staticClass:\"modal__row mt-12 mb-25\"},[t(\"div\",{staticClass:\"row__label mb-9\"},[a._v(a._s(a.$t(\"email_code\")))]),a._v(\" \"),t(\"div\",{staticClass:\"row__input\"},[t(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:a.emailCode,expression:\"emailCode\"}],ref:\"emailCode\",staticClass:\"input-validate mr-14\",attrs:{maxlength:\"6\"},domProps:{value:a.emailCode},on:{input:[function(e){e.target.composing||(a.emailCode=e.target.value)},a.keyPress],keydown:function(e){return!e.type.indexOf(\"key\")&&a._k(e.keyCode,\"enter\",13,e.key,\"Enter\")?null:(e.stopPropagation(),e.preventDefault(),a.toVerifyCode(e))}}}),a._v(\" \"),t(\"count-down\",{attrs:{\"send-text\":a.$t(\"hq_send\"),\"start-when-loaded\":a.showModal,\"send-code-func\":a.getEmailVerifyCode}})],1)])]):a._e(),a._v(\" \"),t(\"v-btn\",{staticClass:\"w-340\",attrs:{label:a.$t(\"signin\")},on:{click:a.toVerifyCode}})],1)])]),a._v(\" \"),t(\"div\",[t(\"v-modal\",{staticClass:\"safe-modal\",attrs:{open:a.safe},on:{close:a.closeSafe,\"update:open\":function(e){a.safe=e}}},[t(\"safeModal\",{on:{close:a.closeSafe}})],1)],1)],1)},staticRenderFns:[]};var x=a(\"C7Lr\")(C,w,!1,function(e){a(\"+dlR\")},\"data-v-0f9b8b8a\",null);t.default=x.exports},WBRU:function(e,t,a){\"use strict\";var i=a(\"6lib\"),o={name:\"SafeModal\",computed:{isMobile:function(){return i.a.isMobile()}},methods:{close:function(){this.$emit(\"close\")}}},s={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"div\",{staticClass:\"safe-container\",class:{\"safe-contaienr-mobile\":e.isMobile}},[a(\"div\",{staticClass:\"safe-title\"},[a(\"icon\",{attrs:{name:\"information\",color:\"$primary;\"}}),e._v(\" \"),a(\"span\",[e._v(e._s(e.$t(\"modal.safeModal.greet\")))])],1),e._v(\" \"),a(\"div\",{staticClass:\"safe-content\"},[a(\"p\",[e._v(e._s(e.$t(\"modal.safeModal.content\")))]),e._v(\" \"),a(\"p\",{staticClass:\"pt-10\"},[e._v(e._s(e.$t(\"modal.safeModal.salute\")))])]),e._v(\" \"),a(\"div\",{staticClass:\"safe-footer\",attrs:{flex:\"main:right\"}},[a(\"el-button\",{attrs:{type:\"primary\"},on:{click:e.close}},[e._v(\" \"+e._s(e.$t(\"modal.safeModal.confirm\")))])],1)])},staticRenderFns:[]};var n=a(\"C7Lr\")(o,s,!1,function(e){a(\"N37+\")},\"data-v-3f697959\",null);t.a=n.exports}});"}