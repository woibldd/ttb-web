{"source":"webpackJsonp([65],{\"7ubs\":function(e,t){},\"hvm/\":function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i=n(\"XzMP\"),a=n(\"+m19\"),s=n(\"j3T7\"),r=n(\"6lib\"),o=(n(\"zOMd\"),{data:function(){return{checked:!0,form:{name:\"\",uid:0,email:\"\",region:\"\",create_time:Date.parse(new Date),update_time:Date.parse(new Date)},emailAlertFlag:!1,regionData:i.a,errorMsg:\"\",emailFlag:!1}},computed:{lang:function(){return this.$route.query.lang},uid:function(){return s.c.userInfo?s.c.userInfo.id:\"\"},plc:function(){return this.$t(\"please_choose\")}},methods:{nextHandle:function(){var t=this;if(this.form.email)if(this.form.name)if(this.form.email){if(r.a.isAndroid())if(android.isLogin()){var e=JSON.parse(android.verify(this.form.email));if(0===e.code){var i=JSON.parse(android.insert(this.form.name,this.form.region,this.form.email,this.form.create_time,this.form.update_time));0===i.code?this.$router.push(\"/planSuccess-app\"):this.$message.warning(i.message)}else 50015===e.code?this.$confirm(this.$t(\"s_email\"),{confirmButtonText:this.$t(\"confirm\"),cancelButtonText:this.$t(\"cancel\"),type:\"warning\"}).then(function(){android.toBoundEmail()}).catch(function(){}):this.$message.warning(e.message)}else android.goLogin();else r.a.isIos()&&a.a.proxyApply({uid:this.uid,email:this.form.email},{headers:{token:this.$route.query.token}}).then(function(e){0===e.code?a.a.proxyApplyInsert(t.form,{headers:{token:t.$route.query.token}}).then(function(e){0===e.code?t.$router.push(\"/planSuccess-app\"):t.$message.warning(e.message)}):50015===e.code?t.$confirm(t.$t(\"s_email\"),{confirmButtonText:t.$t(\"confirm\"),cancelButtonText:t.$t(\"cancel\"),type:\"warning\"}).then(function(){var e=document.createElement(\"iframe\");e.style.width=\"1px\",e.style.height=\"1px\",e.style.display=\"none\",e.src=\"jsbridge://bind_email\",document.body.appendChild(e),setTimeout(function(){e.remove()},100)}).catch(function(){}):t.$message.warning(e.message)})}else this.$message.error(this.$t(\"region_ph\"));else this.$message.error(this.$t(\"kyc_name_err\"));else this.$message.error(this.$t(\"application_ipt_email\"))},emailAlertHandle:function(){this.$router.push(\"/profile/security/summary\")},emailHandle:function(){this.emailFlag=!1;/^[A-Za-z\\d]+([-_.][A-Za-z\\d]+)*@([A-Za-z\\d]+[-.])+[A-Za-z\\d]{2,10}$/.test(this.form.email)?(this.errorMsg=\"\",this.emailFlag=!0):(this.errorMsg=this.$t(\"err_invalid_email\"),this.emailFlag=!1)},realHandle:function(){this.form.name?this.errorMsg=\"\":this.errorMsg=this.$t(\"otc_kvcoc_9\")},applyHandle:function(){this.$router.push(\"/treaty\")}},created:function(){this.form.uid=Number(this.uid)},mounted:function(){window.switchLang=s.a.setLocale}}),l={render:function(){var i=this,e=i.$createElement,a=i._self._c||e;return a(\"div\",{staticClass:\"next-container-h5\"},[a(\"div\",{staticClass:\"next-container-h5-con\"},[a(\"h1\",[i._v(\" \"+i._s(i.$t(\"application_account\"))+\" \")]),i._v(\" \"),a(\"p\",[i._v(i._s(i.$t(\"application_tip\")))]),i._v(\" \"),a(\"div\",{staticClass:\"error-msg\"},[i._v(\" \"+i._s(i.errorMsg)+\" \")]),i._v(\" \"),a(\"div\",{staticClass:\"next-container-h5-ipt\",class:{err:i.errorMsg},staticStyle:{\"margin-top\":\"0\"}},[a(\"div\",{staticClass:\"ipt\"},[a(\"label\",{staticClass:\"tip\",attrs:{for:\"email\"}},[i._v(\" \"+i._s(i.$t(\"application_ipt_email\"))+\" \")]),i._v(\" \"),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:i.form.email,expression:\"form.email\"}],attrs:{type:\"text\",id:\"email\",autocomplete:\"off\"},domProps:{value:i.form.email},on:{input:[function(e){e.target.composing||i.$set(i.form,\"email\",e.target.value)},i.emailHandle]}})])]),i._v(\" \"),a(\"div\",{staticClass:\"next-container-h5-ipt\"},[a(\"div\",{staticClass:\"ipt\"},[a(\"label\",{staticClass:\"tip\",attrs:{for:\"name\"}},[i._v(i._s(i.$t(\"realName\")))]),i._v(\" \"),a(\"el-input\",{attrs:{type:\"text\",id:\"name\",autocomplete:\"off\",disabled:!i.emailFlag,name:\"name\"},on:{input:function(e){return i.form.name=i.validSe(e)}},model:{value:i.form.name,callback:function(e){i.$set(i.form,\"name\",e)},expression:\"form.name\"}})],1)]),i._v(\" \"),a(\"div\",{staticClass:\"next-container-h5-ipt\"},[a(\"div\",{staticClass:\"ipt\"},[a(\"div\",{staticClass:\"tip\",attrs:{for:\"region\"}},[i._v(i._s(i.$t(\"country\")))]),i._v(\" \"),a(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:i.form.region,expression:\"form.region\"}],attrs:{id:\"region\",autocomplete:\"off\",disabled:!i.emailFlag,name:\"region\"},on:{change:function(e){var t=Array.prototype.filter.call(e.target.options,function(e){return e.selected}).map(function(e){return\"_value\"in e?e._value:e.value});i.$set(i.form,\"region\",e.target.multiple?t:t[0])}}},i._l(i.regionData.data,function(e,t){return a(\"option\",{key:t,domProps:{value:e.id}},[\"zh\"===i.lang?[i._v(i._s(e.cname))]:[i._v(\" \"+i._s(e.fullname)+\" \")]],2)}),0)])]),i._v(\" \"),a(\"div\",{staticClass:\"next-container-h5-checked\"},[a(\"el-checkbox\",{model:{value:i.checked,callback:function(e){i.checked=e},expression:\"checked\"}},[a(\"span\",{staticClass:\"true\"},[i._v(i._s(i.$t(\"application_check\")))])]),i._v(\" \"),a(\"a\",{attrs:{href:\"javascript:;\"},on:{click:i.applyHandle}},[i._v(i._s(i.$t(\"application_xy\")))])],1),i._v(\" \"),a(\"div\",{staticClass:\"next-container-btn\",on:{click:i.nextHandle}},[a(\"input\",{attrs:{type:\"button\",disabled:!i.checked,value:this.$t(\"submit\")}})])]),i._v(\" \"),i.emailAlertFlag?a(\"div\",{staticClass:\"submit-alert-mask\"},[a(\"div\",{staticClass:\"submit-alert-container\"},[a(\"div\",{staticClass:\"close\",on:{click:function(e){i.emailAlertFlag=!1}}},[a(\"img\",{attrs:{src:n(\"/TeD\"),alt:\"\",width:\"36\",height:\"36\"}})]),i._v(\" \"),a(\"div\",{staticClass:\"title\"},[i._v(\"\\n          \"+i._s(i.$t(\"s_email\"))+\"\\n        \")]),i._v(\" \"),a(\"div\",{staticClass:\"button\",on:{click:i.emailAlertHandle}},[i._v(\"\\n          \"+i._s(i.$t(\"bd\"))+\"\\n        \")])])]):i._e()])},staticRenderFns:[]};var c=n(\"C7Lr\")(o,l,!1,function(e){n(\"7ubs\")},null,null);t.default=c.exports}});"}