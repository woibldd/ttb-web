{"source":"webpackJsonp([39],{\"+tPi\":function(t,e){},\"4qZG\":function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var a=n(\"lC5x\"),i=n.n(a),s=n(\"J0Oq\"),o=n.n(s),r=n(\"+m19\"),c=n(\"30IV\"),d=n(\"j3T7\"),l=n(\"6lib\"),u=n(\"36He\"),p={name:\"SafeVerified\",components:{state:d.c,VBtn:c.a,countdownCodeButton:u.a},data:function(){return{state:d.c,regionId:\"86\",phone:\"\",code:\"\",regionOptions:[],loading:!1}},computed:{},created:function(){var n=this;return o()(i.a.mark(function t(){var e;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.a.getRegionList();case 2:(e=t.sent).code||(n.regionOptions=e.data),\"zh-CN\"===d.c.locale&&(n.regionId=86);case 5:case\"end\":return t.stop()}},t,n)}))()},methods:{validation:function(){return!!this.phone||(l.a.alert(this.$i18n.t(\"bind_phone_err_empty\")),!1)},sendCode:function(){return r.a.bindPhoneCode({region:this.regionId,phone:this.phone})},selectRegion:function(t){this.regionId=t},submit:function(){var a=this;return o()(i.a.mark(function t(){var e,n;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a.validation()){t.next=2;break}return t.abrupt(\"return\");case 2:return e={region:a.regionId,phone:a.phone,code:a.code},t.next=5,r.a.bindPhone(e);case 5:if((n=t.sent)&&!n.code)return t.next=9,d.a.updateSession();t.next=12;break;case 9:a.$router.push({name:\"Safety\"}),t.next=13;break;case 12:l.a.alert(n.message);case 13:case\"end\":return t.stop()}},t,a)}))()}}},v={render:function(){var n=this,t=n.$createElement,a=n._self._c||t;return a(\"div\",{staticClass:\"profile-container\"},[a(\"div\",{staticClass:\"title-box\"},[n._v(n._s(n.$t(\"profile_left_invite_safety\"))),a(\"span\",[n._v(n._s(n.$t(\"Phone_binding\")))])]),n._v(\" \"),a(\"div\",{staticClass:\"invinfo-box\"},[a(\"div\",{staticClass:\"inp_box\"},[a(\"p\",[n._v(n._s(n.$t(\"phone_number\")))]),n._v(\" \"),a(\"div\",{staticClass:\"inp_cox\"},[a(\"span\",{staticClass:\"gh\"},[a(\"span\",[n._v(\"+\"+n._s(n.regionId)+\"\\n                  \"),a(\"div\",{staticClass:\"selector\"},[a(\"ul\",{staticClass:\"list\"},n._l(n.regionOptions,function(e){return a(\"li\",{key:e.id,staticClass:\"item\",on:{click:function(t){return n.selectRegion(e.id)}}},[n._v(\"+\"+n._s(e.id)+\" \"+n._s(\"zh-CN\"===n.state.locale?e.cname:e.fullname))])}),0)])])]),n._v(\" \"),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:n.phone,expression:\"phone\"}],staticClass:\"a\",attrs:{type:\"text\"},domProps:{value:n.phone},on:{input:function(t){t.target.composing||(n.phone=t.target.value)}}})]),n._v(\" \"),a(\"span\",{staticClass:\"tips\"})]),n._v(\" \"),a(\"div\",{staticClass:\"inp_box\"},[a(\"p\",[n._v(n._s(n.$t(\"phone_code\")))]),n._v(\" \"),a(\"div\",{staticClass:\"inp_cox\"},[a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:n.code,expression:\"code\"}],staticClass:\"b\",attrs:{type:\"text\"},domProps:{value:n.code},on:{input:function(t){t.target.composing||(n.code=t.target.value)}}}),n._v(\" \"),a(\"countdown-code-button\",{attrs:{\"send-text\":n.$t(\"hq_send\"),validation:n.validation,\"send-code-func\":n.sendCode}})],1),n._v(\" \"),a(\"span\",{staticClass:\"tips\"})]),n._v(\" \"),a(\"div\",{staticClass:\"inp_box\"},[a(\"v-btn\",{staticClass:\"submit-btn\",attrs:{label:n.$t(\"bind\"),loading:n.loading},on:{click:n.submit}})],1)])])},staticRenderFns:[]};var _=n(\"C7Lr\")(p,v,!1,function(t){n(\"+tPi\")},\"data-v-22ff2c3a\",null);e.default=_.exports}});"}