{"source":"webpackJsonp([10],{HTWF:function(t,e){},I2PV:function(t,e,a){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var n=a(\"+m19\"),r={data:function(){return{name:\"9\",orderList:[]}},methods:{getOrders:function(){var e=this;return n.a.getOrderHistory({page:1,size:10}).then(function(t){e.orderList=t.data})}},created:function(){this.getOrders()}},s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"my-order-container\"},[a(\"div\",{staticClass:\"page-content\"},[a(\"div\",{staticClass:\"orders-title\"},[t._v(t._s(t.$t(\"my_orders\")))]),t._v(\" \"),a(\"div\",{staticClass:\"orders-filter\"},[t._v(\"\\n      filter\\n    \")]),t._v(\" \"),a(\"div\",{staticClass:\"orders-list-wrapper\"},[t._v(\"\\n      dfg\\n    \")])])])},staticRenderFns:[]};var i=a(\"VU/8\")(r,s,!1,function(t){a(\"LYYZ\")},\"data-v-5470ec3e\",null).exports;e.default=i},LYYZ:function(t,e){},PIMS:function(t,e,a){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var n=a(\"woOf\"),r=a.n(n),s=a(\"Xxa5\"),i=a.n(s),o=a(\"exGp\"),l=a.n(o),c=a(\"+m19\"),u=a(\"6lib\"),d=a(\"j3T7\"),_={name:\"MyFund\",components:{ixPagination:a(\"zKR2\").a},data:function(){return{header:[],headerReward:[],headerInternal:[],headerPromoter:[],status:{key:\"state\",title:this.$i18n.t(\"state\")},internalType:{key:\"internal\",title:this.$i18n.t(\"order_th_type\")},operate:{key:\"txid\",title:this.$i18n.t(\"actions\")},tableData:[],total:0,from:\"all\",type:this.$route.params.from||\"deposit\",page:1,size:10,unit:\"CNY\",loading:!0,hasInternal:!1,state:d.c,coinList:{},returnState:{0:\"fund_assets_status_unissued\",1:\"fund_assets_status_issued\"},returnType:{1:\"fund_assets_type_trading\",2:\"fund_assets_type_Upper\",3:\"fund_assets_type_opening\"},returnTranType:{2:\"trading\",1:\"contract\"},isEnd:!0}},computed:{tableHeaders:function(){switch(this.type){case\"reward\":return this.headerReward;case\"internal\":return this.headerInternal;case\"promoter\":return this.headerPromoter;default:return this.header}},isPromoter:function(){return!!this.state.userInfo&&this.state.userInfo.promoter}},created:function(){var e=this;return l()(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getCoins();case 2:e.updateHeaderLabel(),e.getFundHistory(e.type),e.getAccountBalanceList(),e.getInternalHistory();case 6:case\"end\":return t.stop()}},t,e)}))()},methods:{open:function(t){var e=this;this.$confirm(this.$t(\"fund_assets_withdraw_revoke_tips\"),{confirmButtonText:this.$t(\"confirm\"),cancelButtonText:this.$t(\"cancel\"),type:\"warning\"}).then(function(){c.a.Cancellationoforders({id:t}).then(function(t){0===t.code?(e.getFundHistory(e.type),e.$message({type:\"success\",message:e.$t(\"otc_sidees11\")})):e.$message({type:\"warning\",message:\"\"+t.message})})})},formatter:function(t,e){return\"create_time\"===e.property?u.a.dateFormatter(t.create_time):\"name\"===e.property&&\"reward\"===this.type?\"合约交易大赛\"===t.name?this.$t(\"header_title_contract_competition\"):\"空投奖励\"===t.name?this.$t(\"fund_history_airdrop\"):t.name:t[e.property]},showCXID:function(t){if(t.txid&&this.coinList[t.currency+\"_\"+t.chain]){var e=this.coinList[t.currency+\"_\"+t.chain].scan_url.replace(\"${txid}\",t.txid);window.open(e)}},changeType:function(t){this.page=1,this.getFundHistory(t)},getPage:function(){this.getFundHistory(this.type)},formatTime:function(t){return t?u.a.dateFormatter(t,\"Y-M-D H:m\"):\"--\"},hasComplated:function(t){return\"deposit\"===this.type&&1===t.state?1:\"withdraw\"===this.type?t.state:0},unReleased:function(t){return\"reward\"===this.type&&0===t.state},getInternalHistory:function(){var a=this;return l()(i.a.mark(function t(){var e;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.getInternalHistory({page:1,size:1});case 2:!(e=t.sent).code&&e.data&&0<e.data.length&&(a.hasInternal=!0);case 4:case\"end\":return t.stop()}},t,a)}))()},getFundHistory:function(t){var i=this,o=0<arguments.length&&void 0!==t?t:\"deposit\";this.isEnd=!0,this.loading=!0;var e=\"\";switch(o){case\"deposit\":e=c.a.getDepositHistory;break;case\"withdraw\":e=c.a.getWithdrawHistory;break;case\"reward\":e=c.a.getRewardHistory;break;case\"internal\":e=c.a.getInternalHistory;break;case\"all\":e=c.a.getBalanceList;break;case\"promoter\":e=c.a.getPromoteList;break;case\"return\":e=c.a.nodeReturn}if(e){var a={page:this.page,size:10};this.tableData=[],e(a).then(function(t){if(t.code||0===t.data.length)i.loading=!1,i.total=0;else{if(i.tableData=t.data,\"all\"===i.type||\"return\"===i.type){i.tableData=t.data.data;var e=t.data;e.total>e.page*e.size&&(i.isEnd=!1)}else if(\"reward\"===o){i.tableData=t.data.data.filter(function(t){return-1===t.name.indexOf(\"持仓分红\")});var a=t.data;a.total>a.page*a.size&&(i.isEnd=!1)}else 10===i.tableData.length&&(i.isEnd=!1);if(i.loading=!1,\"all\"===i.type||\"reward\"===o)for(var n in i.tableData){var r=\"\",s=\"\";switch(i.tableData[n].opetate){case 1:r=i.$t(\"trading_account\");break;case 2:r=i.$t(\"contract_account\");break;case 3:r=i.$t(\"day_liquidation\")}switch(i.tableData[n].status){case 0:s=i.$t(\"transfer_fail\");break;case 1:s=i.$t(\"transfer_complete\")}r===i.$t(\"trading_account\")&&(i.tableData[n].form=r,i.tableData[n].to=i.$t(\"contract_account\")),r===i.$t(\"contract_account\")&&(i.tableData[n].form=i.$t(\"contract_account\"),i.tableData[n].to=i.$t(\"trading_account\")),i.tableData[n].available=(+i.tableData[n].available).toFixed(8),i.tableData[n].status=s}console.log(i.tableData),i.tableData.forEach(function(t){t.form=i.getBalance(t.from_balance),t.to=i.getBalance(t.to_balance)}),console.log(i.tableData)}})}},getBalance:function(t){switch(t){case 1:return this.$t(\"wallet_account\");case 2:return this.$t(\"trading_account\");case 3:return this.$t(\"contract_account\");case 4:return this.$t(\"otc_account\")}},getAccountBalanceList:function(){var e=this;return c.a.getAccountBalanceList().then(function(t){e.total=0,!t.code&&t.data&&t.data.map(function(t){return t.rates=t.rates||{},t.locking=e.$big(t.locking||0).plus(e.$big(t.ordering||0).plus(e.$big(t.withdrawing||0)).toString()),t.amount=e.$big(t.locking).plus(e.$big(t.available)).round(4,e.C.ROUND_DOWN).toString(),t.estValue=e.getEstValue(t),e.total=e.$big(e.total).plus(t.estValue),t})})},getText:function(t){return this.$t(\"mine_release_at\",{time:this.formatTime(t.release_time)})},getEstValue:function(t){var e=this.$big(t.amount).times(this.$big(t.rates[this.unit]||0)),a=4;return\"USD\"===this.unit&&(a=8),e.round(a,this.C.ROUND_DOWN).toString()},getStateLabel:function(t){var e=t.state;if(\"withdraw\"===this.type)switch(e){case-1:return\"withdraw_state_unAudited\";case-100:return\"withdraw_state_padding\";case-2:return\"withdraw_state_canceled\";case 0:return\"withdraw_state_audited_unsigned\";case 1:return\"withdraw_state_signed\";case 2:return\"withdraw_state_broadcast_send\";case 3:return\"withdraw_state_broadcast_failed\";case 4:return\"withdraw_state_broadcast_success\"}else switch(e){case-1:return\"deposit_state_error\";case 0:return\"pending\";case 1:return\"done\";default:return\"pending\"}},updateHeaderLabel:function(){this.header=[{key:\"create_time\",title:this.$i18n.t(\"time\")},{key:\"currency\",title:this.$i18n.t(\"currency\")},{key:\"confirm\",title:this.$i18n.t(\"confirm\")},{key:\"amount\",title:this.$i18n.t(\"amount\")}],this.headerReward=[{key:\"create_time\",title:this.$i18n.t(\"time\")},{key:\"currency\",title:this.$i18n.t(\"currency\")},{key:\"name\",title:this.$i18n.t(\"order_th_type\")},{key:\"amount\",title:this.$i18n.t(\"amount\")}],this.headerInternal=[{key:\"create_time\",title:this.$i18n.t(\"time\")},{key:\"currency\",title:this.$i18n.t(\"currency\")},{key:\"amount\",title:this.$i18n.t(\"amount\")},{key:\"memo\",title:this.$i18n.t(\"note\")}],this.headerPromoter=[{key:\"currency\",title:this.$i18n.t(\"currency\")},{key:\"amount\",title:this.$i18n.t(\"amount\")}],this.status=r()({key:\"state\",title:this.$i18n.t(\"state\")}),this.operate=r()({key:\"txid\",title:this.$i18n.t(\"actions\")}),this.internalType=r()({key:\"internal\",title:this.$i18n.t(\"order_th_type\")})},getCoins:function(){var a=this;return l()(i.a.mark(function t(){var e;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.getCoins();case 2:!(e=t.sent).code&&e.data&&(console.log({data:e.data}),e.data.map(function(t){a.coinList[t.currency+\"_\"+t.chain]=t}));case 4:case\"end\":return t.stop()}},t,a)}))()}},beforeRouteEnter:function(e,a,n){var r=this;return l()(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:console.log({to:e,from:a}),n();case 2:case\"end\":return t.stop()}},t,r)}))()},watch:{\"state.locale\":function(){this.getAccountBalanceList(),this.updateHeaderLabel()}}},p={render:function(){var a=this,t=a.$createElement,n=a._self._c||t;return n(\"div\",{staticClass:\"fund-container fund-history-container\"},[n(\"div\",{staticClass:\"my-fund-content\"},[n(\"div\",{staticClass:\"fund-total\"},[n(\"div\",{staticClass:\"left\"}),a._v(\" \"),n(\"el-radio-group\",{staticClass:\"total__switch\",attrs:{\"empty-text\":a.$t(\"no_data\")},on:{change:a.changeType},model:{value:a.type,callback:function(t){a.type=t},expression:\"type\"}},[n(\"el-radio-button\",{attrs:{label:\"all\"}},[a._v(a._s(a.$t(\"teansdasda\")))]),a._v(\" \"),n(\"el-radio-button\",{attrs:{label:\"deposit\"}},[a._v(a._s(a.$t(\"deposit_record\")))]),a._v(\" \"),n(\"el-radio-button\",{attrs:{label:\"withdraw\"}},[a._v(a._s(a.$t(\"withdraw_record\")))]),a._v(\" \"),n(\"el-radio-button\",{attrs:{label:\"reward\"}},[a._v(\" \"+a._s(a.$t(\"fund_reward\"))+\" \")]),a._v(\" \"),n(\"el-radio-button\",{attrs:{label:\"return\"}},[a._v(\" \"+a._s(a.$t(\"commission_history_text\"))+\" \")]),a._v(\" \"),a.isPromoter?n(\"el-radio-button\",{attrs:{label:\"promoter\"}},[a._v(\" \"+a._s(a.$t(\"promote_brokerage\"))+\" \")]):a._e(),a._v(\" \"),a.hasInternal?n(\"el-radio-button\",{attrs:{label:\"internal\"}},[a._v(\" \"+a._s(a.$t(\"internal_transfer\"))+\" \")]):a._e()],1)],1),a._v(\" \"),\"return\"===a.type?n(\"el-table\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:a.loading,expression:\"loading\"}],staticClass:\"fund-coin-pool\",attrs:{\"empty-text\":a.$t(\"no_data\"),data:a.tableData}},[n(\"el-table-column\",{attrs:{prop:\"user_id\",label:this.$t(\"UID\")},scopedSlots:a._u([{key:\"default\",fn:function(t){return[n(\"div\",[a._v(\"\\n              \"+a._s(t.row.user_id)+\"\\n            \")])]}}],null,!1,998784018)}),a._v(\" \"),n(\"el-table-column\",{attrs:{prop:\"inviter_user_id\",label:this.$t(\"fund_history_inviter_userid\")}}),a._v(\" \"),n(\"el-table-column\",{attrs:{prop:\"star_lv\",label:this.$t(\"fund_history_star_lv\")}}),a._v(\" \"),n(\"el-table-column\",{attrs:{prop:\"currency\",label:this.$t(\"currency\")}}),a._v(\" \"),n(\"el-table-column\",{attrs:{prop:\"tran_type\",label:this.$t(\"fund_history_transaction_type\")},scopedSlots:a._u([{key:\"default\",fn:function(t){return[n(\"div\",[a._v(\"\\n              \"+a._s(a.$t(a.returnTranType[t.row.tran_type]))+\"\\n            \")])]}}],null,!1,2421654227)}),a._v(\" \"),n(\"el-table-column\",{attrs:{prop:\"symbol\",label:this.$t(\"fund_history_symbol\")},scopedSlots:a._u([{key:\"default\",fn:function(t){return[n(\"div\",[a._v(\"\\n              \"+a._s(1===t.row.tran_type?a.$t(\"FUTURE_&USD\",{currency:t.row.symbol.replace(\"USD\",\"\")}):t.row.symbol)+\"\\n            \")])]}}],null,!1,736944931)}),a._v(\" \"),n(\"el-table-column\",{attrs:{prop:\"amount\",label:this.$t(\"commission_amount\")}}),a._v(\" \"),n(\"el-table-column\",{attrs:{prop:\"create_time\",label:this.$t(\"contract_deal_time\")},scopedSlots:a._u([{key:\"default\",fn:function(t){return[n(\"div\",[a._v(\"\\n              \"+a._s(a.formatTime(t.row.create_time))+\"\\n            \")])]}}],null,!1,3585377288)}),a._v(\" \"),n(\"el-table-column\",{attrs:{prop:\"release_time\",label:this.$t(\"fund_history_release_time\")},scopedSlots:a._u([{key:\"default\",fn:function(t){return[n(\"div\",[a._v(\"\\n              \"+a._s(a.formatTime(t.row.release_time))+\"\\n            \")])]}}],null,!1,615461445)}),a._v(\" \"),n(\"el-table-column\",{attrs:{prop:\"state\",label:this.$t(\"status\")},scopedSlots:a._u([{key:\"default\",fn:function(t){return[n(\"div\",[a._v(\"\\n              \"+a._s(a.$t(a.returnState[t.row.state]))+\"\\n            \")])]}}],null,!1,287888108)})],1):\"all\"===a.type?n(\"el-table\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:a.loading,expression:\"loading\"}],staticClass:\"fund-coin-pool\",attrs:{\"empty-text\":a.$t(\"no_data\"),data:a.tableData,\"cell-class-name\":\"unrelease-cell\"}},[n(\"el-table-column\",{key:\"currency_all\",attrs:{prop:\"currency\",label:this.$t(\"transfer_currency\")}}),a._v(\" \"),n(\"el-table-column\",{key:\"form_all\",attrs:{prop:\"form\",label:this.$t(\"transfer_from_a\")}}),a._v(\" \"),n(\"el-table-column\",{key:\"to_all\",attrs:{prop:\"to\",label:this.$t(\"transfer_to_a\")}}),a._v(\" \"),n(\"el-table-column\",{key:\"amount_all\",attrs:{prop:\"amount\",label:this.$t(\"transfer_amount\")}}),a._v(\" \"),n(\"el-table-column\",{key:\"available_all\",attrs:{prop:\"available\",label:this.$t(\"balance\")}}),a._v(\" \"),n(\"el-table-column\",{key:\"create_time_all\",attrs:{width:\"240\",prop:\"create_time\",label:this.$t(\"transfer_time\")}}),a._v(\" \"),n(\"el-table-column\",{key:\"status_all\",attrs:{prop:\"status\",label:this.$t(\"status\")}})],1):n(\"el-table\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:a.loading,expression:\"loading\"}],staticClass:\"fund-coin-pool\",attrs:{\"empty-text\":a.$t(\"no_data\"),data:a.tableData,\"cell-class-name\":\"unrelease-cell\"}},[a._l(a.tableHeaders,function(t,e){return n(\"el-table-column\",{key:e,attrs:{formatter:a.formatter,prop:t.key,label:t.title}})}),a._v(\" \"),\"reward\"!==a.type&&\"internal\"!==a.type&&\"promoter\"!==a.type?n(\"el-table-column\",{attrs:{\"header-align\":\"right\",align:\"right\",width:\"200px\",label:a.status.title},scopedSlots:a._u([{key:\"default\",fn:function(t){return[n(\"span\",{class:[\"state\",a.hasComplated(t.row)&&\"complete\"]},[a._v(\"\\n            \"+a._s(a.$t(a.getStateLabel(t.row)))+\"\\n          \")])]}}],null,!1,4084787977)}):a._e(),a._v(\" \"),\"reward\"===a.type?n(\"el-table-column\",{attrs:{\"header-align\":\"left\",align:\"left\",width:\"200px\",label:a.status.title},scopedSlots:a._u([{key:\"default\",fn:function(t){return[n(\"div\",{class:[\"state complete\",a.unReleased(t.row)&&\"un-release\"]},[a._v(\"\\n            \"+a._s(a.unReleased(t.row)?a.$t(\"waiting_for_release\"):a.$t(\"done\"))+\"\\n            \"),a.unReleased(t.row)?n(\"icon\",{directives:[{name:\"tooltip\",rawName:\"v-tooltip.left\",value:{content:a.getText(t.row),classes:\"profile\"},expression:\"{content: getText(scope.row), classes: 'profile'} \",modifiers:{left:!0}}],staticClass:\"pointer\",attrs:{name:\"question\"}}):a._e()],1)]}}],null,!1,643071016)}):a._e(),a._v(\" \"),\"internal\"===a.type?n(\"el-table-column\",{attrs:{\"header-align\":\"right\",align:\"right\",width:\"200px\",label:a.internalType.title},scopedSlots:a._u([{key:\"default\",fn:function(t){return[n(\"div\",{staticClass:\"state complete\"},[a._v(\"\\n            \"+a._s(2===t.row.type?a.$t(\"transfer_in\"):a.$t(\"transfer_out\"))+\"\\n          \")])]}}],null,!1,1373944658)}):a._e(),a._v(\" \"),\"reward\"!==a.type&&\"internal\"!==a.type&&\"promoter\"!==a.type?n(\"el-table-column\",{attrs:{\"header-align\":\"right\",align:\"right\",width:\"200px\",label:a.operate.title},scopedSlots:a._u([{key:\"default\",fn:function(e){return[e.row.txid?n(\"div\",{staticClass:\"contact-item\"},[n(\"icon\",{attrs:{name:\"fund-history-copy\"}}),a._v(\" \"),n(\"span\",{staticClass:\"show-address\",on:{click:function(t){return a.showCXID(e.row)}}},[a._v(a._s(a.$t(\"view_txid\")))])],1):a._e(),a._v(\" \"),n(\"el-button\",{staticClass:\"chexiao\",attrs:{type:\"text\"},on:{click:function(t){return a.open(e.row.id)}}},[-1==e.row.state|-100==e.row.state?n(\"a\",[a._v(a._s(a.$t(\"contract_assign_revert\")))]):a._e()])]}}],null,!1,530665159)}):a._e()],2),a._v(\" \"),n(\"div\",{staticClass:\"history__footer pt-10\"},[n(\"ix-pagination\",{attrs:{page:a.page,isEnd:a.isEnd,func:a.getPage},on:{\"update:page\":function(t){a.page=t}}})],1)],1)])},staticRenderFns:[]};var h=a(\"VU/8\")(_,p,!1,function(t){a(\"HTWF\")},null,null);e.default=h.exports}});"}