{"source":"webpackJsonp([31],{NxoB:function(t,i,e){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var s=e(\"lC5x\"),n=e.n(s),a=e(\"J0Oq\"),o=e.n(a),r=e(\"EVD2\"),c=e.n(r),v=e(\"+m19\"),l=e(\"6lib\"),_=e(\"j3T7\"),d=10,u={name:\"Invite\",components:{},data:function(){return{state:_.c,show:!1,qrReady:!1,invitationList:{list:[],page:1,size:11,isEnd:!0},commissionList:{list:[],page:1,size:11,isEnd:!0},isLastInvitation:!1,isLastCommission:!1}},computed:{inviteLink:function(){return location.protocol+\"//\"+location.host+\"/user/register/?invitor=\"+this.inviteCode},inviteCode:function(){return this.state.userInfo?this.state.userInfo.id:\"\"}},created:function(){var i=this;return o()(n.a.mark(function t(){return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i.setQr(i.inviteLink),i.getInviteList(),i.getCommissionList();case 3:case\"end\":return t.stop()}},t,i)}))()},methods:{showQrcode:function(){this.show=!this.show},copy:function(t){c()(this[t]),l.a.success(this.$i18n.t(\"copyed\"))},goInvite:function(){c()(this.inviteLink),l.a.success(this.$i18n.t(\"link_copyed\"))},getInviteList:function(){var s=this;return o()(n.a.mark(function t(){var i;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.a.getMyInviteList({page:s.invitationList.page++,size:d});case 2:(i=t.sent)&&!i.code?(!i.data.data||i.data.total<d?s.invitationList.isEnd=!0:s.invitationList.isEnd=!1,0<s.invitationList.list.length?(s.invitationList.list=s.invitationList.list.concat(i.data.data),s.invitationList.list.length>=i.data.total&&(s.invitationList.isEnd=!0)):s.invitationList.list=i.data.data):l.a.alert(i.message);case 4:case\"end\":return t.stop()}},t,s)}))()},getCommissionList:function(){var s=this;return o()(n.a.mark(function t(){var i;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.a.getCommissionList({page:s.commissionList.page++,size:d});case 2:(i=t.sent).code||(!i.data||i.data.length<d?s.commissionList.isEnd=!0:s.commissionList.isEnd=!1,0<=s.commissionList.list.length?s.commissionList.list=s.commissionList.list.concat(i.data):s.commissionList.list=i.data);case 4:case\"end\":return t.stop()}},t,s)}))()},setQr:function(i){var s=this;return o()(n.a.mark(function t(){return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.e(80).then(e.bind(null,\"tSqM\"));case 2:t.sent.toCanvas(s.$refs.qr,i,{margin:0,width:136,height:136,errorCorrectionLevel:\"H\"},function(t){if(t)return l.a.log(\"qrcode error\");s.qrReady=!0});case 4:case\"end\":return t.stop()}},t,s)}))()}}},p={render:function(){var i=this,t=i.$createElement,s=i._self._c||t;return s(\"div\",{staticClass:\"user-center-right\"},[s(\"div\",{staticClass:\"profile-container\"},[s(\"div\",{staticClass:\"title-box\"},[i._v(i._s(i.$t(\"profile_left_invite\")))]),i._v(\" \"),s(\"div\",{staticClass:\"invite-wrap\"},[s(\"div\",{staticClass:\"share_style login_show\"},[s(\"div\",{staticClass:\"post_btn share_div\"},[s(\"p\",[i._v(i._s(i.$t(\"profile_left_invite_qrcode\")))]),i._v(\" \"),s(\"div\",{staticClass:\"btn_select\",on:{click:i.showQrcode}},[i._v(i._s(i.$t(\"profile_left_invite_qrcode\")))]),i._v(\" \"),s(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:i.show,expression:\"show\"}],staticClass:\"qrcode\"},[s(\"canvas\",{ref:\"qr\",staticClass:\"qr-img\"})])]),i._v(\" \"),s(\"div\",{staticClass:\"user_url share_div\"},[s(\"p\",[i._v(i._s(i.$t(\"profile_left_invite_link\")))]),i._v(\" \"),s(\"div\",{staticClass:\"share_code_wrap\"},[s(\"p\",{staticClass:\"url\"},[s(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:i.inviteLink,expression:\"inviteLink\"}],staticClass:\"share_link\",attrs:{type:\"text\"},domProps:{value:i.inviteLink},on:{input:function(t){t.target.composing||(i.inviteLink=t.target.value)}}})]),i._v(\" \"),s(\"a\",{staticClass:\"copy_url copy_btn copy_url_2\",attrs:{\"data-clipboard-target\":\".share_link\"},on:{click:function(t){return t.preventDefault(),i.copy(\"inviteLink\")}}},[i._v(i._s(i.$t(\"profile_left_copy_invite_link\")))])])]),i._v(\" \"),s(\"div\",{staticClass:\"user_code share_div\"},[s(\"p\",[i._v(i._s(i.$t(\"profile_left_invite_code\")))]),i._v(\" \"),s(\"div\",{staticClass:\"share_code_wrap\"},[s(\"p\",{staticClass:\"share_code\"},[i._v(i._s(i.inviteCode))]),i._v(\" \"),s(\"a\",{staticClass:\"copy_url copy_btn copy_url_1\",attrs:{\"data-clipboard-target\":\".share_code\"},on:{click:function(t){return t.preventDefault(),i.copy(\"inviteCode\")}}},[i._v(i._s(i.$t(\"profile_left_copy_invite_code\")))])])])])]),i._v(\" \"),s(\"div\",{staticClass:\"invite-container mb-30\"},[s(\"div\",{staticClass:\"invite-wrap left\"},[s(\"div\",{staticClass:\"title-box\"},[i._v(i._s(i.$t(\"invite_history_text\")))]),i._v(\" \"),s(\"div\",{staticClass:\"invite-list\"},[s(\"div\",{staticClass:\"th pd-15\"},[s(\"div\",{staticClass:\"td\"},[i._v(i._s(i.$t(\"username\")))]),i._v(\" \"),s(\"div\",{staticClass:\"td center\"},[i._v(i._s(i.$t(\"invite_kyc_lv\")))]),i._v(\" \"),s(\"div\",{staticClass:\"td right\"},[i._v(i._s(i.$t(\"time\")))])]),i._v(\" \"),s(\"div\",{staticClass:\"tbody pb-20\"},[0===i.invitationList.list.length?s(\"div\",{staticClass:\"empty\"},[s(\"span\",{staticClass:\"text\",domProps:{innerHTML:i._s(i.$t(\"invite_reward_text\"))},on:{click:i.goInvite}})]):i._l(i.invitationList.list,function(t){return s(\"div\",{key:t.id,staticClass:\"row pt-20 pl-20 pr-20\"},[s(\"div\",{staticClass:\"td\"},[i._v(i._s(t.phone||t.email))]),i._v(\" \"),s(\"div\",{staticClass:\"td center\"},[i._v(\"\\n                \"+i._s(0<t.lv?\"KYC\"+t.lv:i.$t(\"invite_kyc2_deniel\"))+\"\\n              \")]),i._v(\" \"),s(\"div\",{staticClass:\"td right\"},[i._v(i._s(i._f(\"ts2date\")(t.register_time)))])])})],2),i._v(\" \"),i.invitationList.isEnd?i._e():s(\"div\",{staticClass:\"pagination mt-10\"},[s(\"a\",{on:{click:function(t){return t.preventDefault(),i.getInviteList(t)}}},[i._v(\"[\"+i._s(i.$t(\"more_record\"))+\"]\")])])])])])])])},staticRenderFns:[]};var f=e(\"C7Lr\")(u,p,!1,function(t){e(\"wMRy\")},\"data-v-b915bd04\",null);i.default=f.exports},wMRy:function(t,i){}});"}