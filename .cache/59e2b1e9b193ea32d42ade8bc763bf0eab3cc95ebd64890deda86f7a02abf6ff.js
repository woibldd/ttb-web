{"source":"webpackJsonp([37],{\"4qZG\":function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var a=n(\"Xxa5\"),s=n.n(a),i=n(\"exGp\"),o=n.n(i),r=n(\"+m19\"),c=n(\"30IV\"),d=n(\"j3T7\"),u=n(\"6lib\"),l=n(\"36He\"),p={name:\"SafeVerified\",components:{state:d.c,VBtn:c.a,countdownCodeButton:l.a},data:function(){return{state:d.c,regionId:\"86\",phone:\"\",code:\"\",regionOptions:[],loading:!1}},computed:{},created:function(){var n=this;return o()(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.a.getRegionList();case 2:(t=e.sent).code||(n.regionOptions=t.data),\"zh-CN\"===d.c.locale&&(n.regionId=86);case 5:case\"end\":return e.stop()}},e,n)}))()},methods:{validation:function(){return!!this.phone||(u.a.alert(this.$i18n.t(\"bind_phone_err_empty\")),!1)},sendCode:function(){return r.a.bindPhoneCode({region:this.regionId,phone:this.phone})},selectRegion:function(e){this.regionId=e},submit:function(){var a=this;return o()(s.a.mark(function e(){var t,n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a.validation()){e.next=2;break}return e.abrupt(\"return\");case 2:return t={region:a.regionId,phone:a.phone,code:a.code},e.next=5,r.a.bindPhone(t);case 5:if((n=e.sent)&&!n.code)return e.next=9,d.a.updateSession();e.next=12;break;case 9:a.$router.push({name:\"Safety\"}),e.next=13;break;case 12:u.a.alert(n.message);case 13:case\"end\":return e.stop()}},e,a)}))()}}},v={render:function(){var n=this,e=n.$createElement,a=n._self._c||e;return a(\"div\",{staticClass:\"profile-container\"},[a(\"div\",{staticClass:\"title-box\"},[n._v(n._s(n.$t(\"profile_left_invite_safety\"))),a(\"span\",[n._v(n._s(n.$t(\"Phone_binding\")))])]),n._v(\" \"),a(\"div\",{staticClass:\"invinfo-box\"},[a(\"div\",{staticClass:\"inp_box\"},[a(\"p\",[n._v(n._s(n.$t(\"phone_number\")))]),n._v(\" \"),a(\"div\",{staticClass:\"inp_cox\"},[a(\"span\",{staticClass:\"gh\"},[a(\"span\",[n._v(\"+\"+n._s(n.regionId)+\"\\n                  \"),a(\"div\",{staticClass:\"selector\"},[a(\"ul\",{staticClass:\"list\"},n._l(n.regionOptions,function(t){return a(\"li\",{key:t.id,staticClass:\"item\",on:{click:function(e){return n.selectRegion(t.id)}}},[n._v(\"+\"+n._s(t.id)+\" \"+n._s(\"zh-CN\"===n.state.locale?t.cname:t.fullname))])}),0)])])]),n._v(\" \"),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:n.phone,expression:\"phone\"}],staticClass:\"a\",attrs:{type:\"text\"},domProps:{value:n.phone},on:{input:function(e){e.target.composing||(n.phone=e.target.value)}}})]),n._v(\" \"),a(\"span\",{staticClass:\"tips\"})]),n._v(\" \"),a(\"div\",{staticClass:\"inp_box\"},[a(\"p\",[n._v(n._s(n.$t(\"phone_code\")))]),n._v(\" \"),a(\"div\",{staticClass:\"inp_cox\"},[a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:n.code,expression:\"code\"}],staticClass:\"b\",attrs:{type:\"text\"},domProps:{value:n.code},on:{input:function(e){e.target.composing||(n.code=e.target.value)}}}),n._v(\" \"),a(\"countdown-code-button\",{attrs:{\"send-text\":n.$t(\"hq_send\"),validation:n.validation,\"send-code-func\":n.sendCode}})],1),n._v(\" \"),a(\"span\",{staticClass:\"tips\"})]),n._v(\" \"),a(\"div\",{staticClass:\"inp_box\"},[a(\"v-btn\",{staticClass:\"submit-btn\",attrs:{label:n.$t(\"bind\"),loading:n.loading},on:{click:n.submit}})],1)])])},staticRenderFns:[]};var _=n(\"VU/8\")(p,v,!1,function(e){n(\"r2NB\")},\"data-v-6f292232\",null);t.default=_.exports},r2NB:function(e,t){}});"}